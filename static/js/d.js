window.R={},R.iLerp=(t,s,r)=>R.Clamp((r-t)/(s-t),0,1),R.Lerp=(t,s,r)=>t*(1-r)+s*r,R.Damp=(t,s,r)=>R.Lerp(t,s,1-Math.exp(Math.log(1-r)*RD)),R.Remap=(t,s,r,e,i)=>R.Lerp(r,e,R.iLerp(t,s,i)),R.M=class{constructor(t){R.BM(this,["gRaf","run","uSvg","uLine","uProp"]),this.v=this.vInit(t),this.r=new R.RafR(this.run)}vInit(s){const i={el:R.Select.el(s.el),e:{curve:s.e||"linear"},d:{origin:s.d||0,curr:0},delay:s.delay||0,cb:s.cb||!1,r:s.r||2,prog:0,progE:0,elapsed:0};i.elL=i.el.length,R.Has(s,"update")?i.up=t=>{s.update(i)}:R.Has(s,"svg")?i.up=this.uSvg:R.Has(s,"line")?i.up=this.uLine:i.up=this.uProp;var r=s.p||!1,t=s.svg||!1,a=s.line||!1;let e=!1;if(r){i.prop={},i.propI=[];var n=Object.keys(r);i.propL=n.length;let t=i.propL;for(;t--;){const c=n[t];i.prop[t]={name:c,origin:{start:r[c][0],end:r[c][1]},curr:r[c][0],start:r[c][0],end:r[c][1],unit:r[c][2]||"%"};var o=c.charAt(0),h="r"===o&&e?"r2":o;e="r"===o,i.propI[h]=t}}else if(t)i.svg={type:t.type,attr:"polygon"===t.type?"points":"d",end:t.end,originArr:{},arr:{},val:[]},i.svg.start=t.start||R.Ga(i.el[0],i.svg.attr),i.svg.curr=i.svg.start,i.svg.originArr.start=R.Svg.split(i.svg.start),i.svg.originArr.end=R.Svg.split(i.svg.end),i.svg.arr.start=i.svg.originArr.start,i.svg.arr.end=i.svg.originArr.end,i.svg.arrL=i.svg.arr.start.length;else if(a){i.line={dashed:a.dashed,coeff:{start:R.Is.def(a.start)?(100-a.start)/100:1,end:R.Is.def(a.end)?(100-a.end)/100:0},shapeL:[],origin:{start:[],end:[]},curr:[],start:[],end:[]};for(let e=0;e<i.elL;e++){var l=a.elWL||i.el[e];i.line.shapeL[e]=R.Svg.shapeL(l);let t;if(i.line.dashed){const u=i.line.dashed;let s=0;var v=u.split(/[\s,]/),p=v.length;for(let t=0;t<p;t++)s+=parseFloat(v[t])||0;let r="";var d=Math.ceil(i.line.shapeL[e]/s);for(let t=0;t<d;t++)r+=u+" ";t=r+"0 "+i.line.shapeL[e]}else t=i.line.shapeL[e];i.el[e].style.strokeDasharray=t,i.line.origin.start[e]=i.line.coeff.start*i.line.shapeL[e],i.line.origin.end[e]=i.line.coeff.end*i.line.shapeL[e],i.line.curr[e]=i.line.origin.start[e],i.line.start[e]=i.line.origin.start[e],i.line.end[e]=i.line.origin.end[e]}}return i}play(t){this.pause(),this.vUpd(t),this.delay.run()}pause(){this.r.stop(),this.delay&&this.delay.stop()}vUpd(t){var s=t||{},r=R.Has(s,"reverse")?"start":"end";if(R.Has(this.v,"prop")){let t=this.v.propL;for(;t--;)this.v.prop[t].end=this.v.prop[t].origin[r],this.v.prop[t].start=this.v.prop[t].curr,R.Has(s,"p")&&R.Has(s.p,this.v.prop[t].name)&&(R.Has(s.p[this.v.prop[t].name],"newEnd")&&(this.v.prop[t].end=s.p[this.v.prop[t].name].newEnd),R.Has(s.p[this.v.prop[t].name],"newStart")&&(this.v.prop[t].start=s.p[this.v.prop[t].name].newStart))}else if(R.Has(this.v,"svg"))R.Has(s,"svg")&&R.Has(s.svg,"start")?this.v.svg.arr.start=s.svg.start:this.v.svg.arr.start=R.Svg.split(this.v.svg.curr),R.Has(s,"svg")&&R.Has(s.svg,"end")?this.v.svg.arr.end=s.svg.end:this.v.svg.arr.end=this.v.svg.originArr[r];else if(R.Has(this.v,"line")){for(let t=0;t<this.v.elL;t++)this.v.line.start[t]=this.v.line.curr[t];if(R.Has(s,"line")&&R.Has(s.line,"end")){this.v.line.coeff.end=(100-s.line.end)/100;for(let t=0;t<this.v.elL;t++)this.v.line.end[t]=this.v.line.coeff.end*this.v.line.shapeL[t]}else for(let t=0;t<this.v.elL;t++)this.v.line.end[t]=this.v.line.origin[r][t]}this.v.d.curr=R.Has(s,"d")?s.d:R.R(this.v.d.origin-this.v.d.curr+this.v.elapsed),this.v.e.curve=s.e||this.v.e.curve,this.v.e.calc=R.Is.str(this.v.e.curve)?R.Ease[this.v.e.curve]:R.Ease4(this.v.e.curve),this.v.delay=(R.Has(s,"delay")?s:this.v).delay,this.v.cb=(R.Has(s,"cb")?s:this.v).cb,this.v.prog=this.v.progE=0===this.v.d.curr?1:0,this.delay=new R.Delay(this.gRaf,this.v.delay)}gRaf(){this.r.run()}run(t){1===this.v.prog?(this.pause(),this.v.up(),this.v.cb&&this.v.cb()):(this.v.elapsed=R.Clamp(t,0,this.v.d.curr),this.v.prog=R.Clamp(this.v.elapsed/this.v.d.curr,0,1),this.v.progE=this.v.e.calc(this.v.prog),this.v.up())}uProp(){const t=this.v.prop;var s=this.v.propI;let r=this.v.propL;for(;r--;)t[r].curr=this.lerp(t[r].start,t[r].end);var e=R.Has(s,"x")?t[s.x].curr+t[s.x].unit:0,i=R.Has(s,"y")?t[s.y].curr+t[s.y].unit:0;const a=e+i===0?0:"translate3d("+e+","+i+",0)",n=R.Has(s,"r")?t[s.r].name+"("+t[s.r].curr+"deg)":0,o=R.Has(s,"r2")?t[s.r2].name+"("+t[s.r2].curr+"deg)":0,h=R.Has(s,"s")?t[s.s].name+"("+t[s.s].curr+")":0;var l=a+n+o+h===0?0:[a,n,o,h].filter(t=>0!==t).join(" "),v=R.Has(s,"o")?t[s.o].curr:-1;let p=this.v.elL;for(;p--&&!R.Is.und(this.v.el[p]);)0!==l&&(this.v.el[p].style.transform=l),0<=v&&(this.v.el[p].style.opacity=v)}uSvg(){const s=this.v.svg;s.currTemp="";for(let t=0;t<s.arrL;t++)s.val[t]=isNaN(s.arr.start[t])?s.arr.start[t]:this.lerp(s.arr.start[t],s.arr.end[t]),s.currTemp+=s.val[t]+" ",s.curr=s.currTemp.trim();for(let t=0;t<this.v.elL&&!R.Is.und(this.v.el[t]);t++)this.v.el[t].setAttribute(s.attr,s.curr)}uLine(){const s=this.v.line;for(let t=0;t<this.v.elL;t++){const r=this.v.el[t].style;s.curr[t]=this.lerp(s.start[t],s.end[t]),r.strokeDashoffset=s.curr[t],0===this.v.prog&&(r.opacity=1)}}lerp(t,s){return R.R(R.Lerp(t,s,this.v.progE),this.v.r)}},R.TL=class{constructor(){this._=[],this.d=0}from(t){this.d+=R.Has(t,"delay")?t.delay:0,t.delay=this.d,this._.push(new R.M(t))}play(t){this.run("play",t)}pause(){this.run("pause")}run(t,s){let r=0;for(var e=this._.length,i=s||void 0;r<e;)this._[r][t](i),r++}},R.BM=(t,s)=>{let r=s.length;for(;r--;)t[s[r]]=t[s[r]].bind(t)},R.Clamp=(t,s,r)=>t<s?s:r<t?r:t,R.Clone=t=>JSON.parse(JSON.stringify(t)),R.Delay=class{constructor(t,s){this.cb=t,this.d=s,R.BM(this,["loop"]),this.r=new R.RafR(this.loop)}run(){0===this.d?this.cb():this.r.run()}stop(){this.r.stop()}loop(t){t=R.Clamp(t,0,this.d);1===R.Clamp(t/this.d,0,1)&&(this.stop(),this.cb())}},R.Dist=(t,s)=>Math.sqrt(t*t+s*s),R.Ease={linear:t=>t,i1:t=>1-Math.cos(t*(.5*Math.PI)),o1:t=>Math.sin(t*(.5*Math.PI)),io1:t=>-.5*(Math.cos(Math.PI*t)-1),i2:t=>t*t,o2:t=>t*(2-t),io2:t=>t<.5?2*t*t:(4-2*t)*t-1,i3:t=>t*t*t,o3:t=>--t*t*t+1,io3:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,i4:t=>t*t*t*t,o4:t=>1- --t*t*t*t,io4:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,i5:t=>t*t*t*t*t,o5:t=>1+--t*t*t*t*t,io5:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,i6:t=>0===t?0:2**(10*(t-1)),o6:t=>1===t?1:1-2**(-10*t),io6:t=>0===t||1===t?t:(t/=.5)<1?.5*2**(10*(t-1)):.5*(2-2**(-10*--t))},R.r0=(t,s)=>1-3*s+3*t,R.r1=(t,s)=>3*s-6*t,R.r2=(t,s,r)=>((R.r0(s,r)*t+R.r1(s,r))*t+3*s)*t,R.r3=(t,s,r)=>3*R.r0(s,r)*t*t+2*R.r1(s,r)*t+3*s,R.r4=(t,s,r,e,i)=>{let a,n,o=0;for(;n=s+.5*(r-s),0<(a=R.r2(n,e,i)-t)?r=n:s=n,1e-7<Math.abs(a)&&++o<10;);return n},R.r5=(s,r,e,i)=>{for(let t=0;t<4;++t){var a=R.r3(r,e,i);if(0===a)return r;r-=(R.r2(r,e,i)-s)/a}return r},R.Ease4=t=>{const a=t[0],s=t[1],n=t[2],r=t[3];let o=new Float32Array(11);if(a!==s||n!==r)for(let t=0;t<11;++t)o[t]=R.r2(.1*t,a,n);return t=>a===s&&n===r||(0===t||1===t)?t:R.r2(function(t){let s=0;for(var r=1;10!==r&&o[r]<=t;++r)s+=.1;--r;var e=(t-o[r])/(o[r+1]-o[r]),e=s+.1*e,i=R.r3(e,a,n);return.001<=i?R.r5(t,e,a,n):0===i?e:R.r4(t,i,i+.1,a,n)}(t),s,r)},R.Fetch=s=>{var t="json"===s.type;const r=t?"json":"text",e={method:t?"POST":"GET",headers:new Headers({"Content-type":t?"application/x-www-form-urlencoded":"text/html"}),mode:"same-origin"};t&&(e.body=s.body),fetch(s.url,e).then(t=>{if(t.ok)return t[r]();s.error&&s.error()}).then(t=>{s.success(t)})},R.Has=(t,s)=>t.hasOwnProperty(s),R.Is={str:t=>"string"==typeof t,obj:t=>t===Object(t),arr:t=>t.constructor===Array,def:t=>void 0!==t,und:t=>void 0===t},R.Mod=(t,s)=>(t%s+s)%s,R.Pad=(t,s)=>("000"+t).substr(-s),R.PCurve=(t,s,r)=>{return(s+r)**(s+r)/(s**s*r**r)*t**s*(1-t)**r},R.R=(t,s)=>{s=R.Is.und(s)?100:10**s;return Math.round(t*s)/s},R.Select={el:t=>{let s=[];var r;return R.Is.str(t)?(r=t.substring(1),"#"===t.charAt(0)?s[0]=R.G.id(r):s=R.G.class(r)):s[0]=t,s},type:t=>"#"===t.charAt(0)?"id":"class",name:t=>t.substring(1)},R.L=(t,s,r,e)=>{var i=document;const a=R.Select.el(t);var n=a.length;let o=r;var t="wheel",h="mouse";const l=[h+"Wheel",h+"move","touchmove","touchstart"];var v=-1!==l.indexOf(r)&&{passive:!1},p=(r===l[0]?o="on"+t in i?t:R.Is.def(i.onmousewheel)?h+t:"DOMMouseScroll":"focusOut"===r&&(o=R.Snif.isFirefox?"blur":"focusout"),"a"===s?"add":"remove");for(let t=0;t<n;t++)a[t][p+"EventListener"](o,e,v)};const Tab=class{constructor(){this._=[],this.pause=0,R.BM(this,["v"]),R.L(document,"a","visibilitychange",this.v)}add(t){this._.push(t)}v(){var t=performance.now();let s,r,e=(r=document.hidden?(this.pause=t,"stop"):(s=t-this.pause,"start"),this._.length);for(;e--;)this._[e][r](s)}};R.Tab=new Tab;let RD=0;const FR=1e3/60,Raf=(R.Raf=class{constructor(){this._=[],this.on=!0,R.BM(this,["loop","tOff","tOn"]),R.Tab.add({stop:this.tOff,start:this.tOn}),this.raf()}tOff(){this.on=!1}tOn(t){this.t=null;let s=this.l();for(;s--;)this._[s].sT+=t;this.on=!0}add(t){this._.push(t)}remove(t){let s=this.l();for(;s--;)if(this._[s].id===t)return void this._.splice(s,1)}loop(s){if(this.on){this.t||(this.t=s),RD=(s-this.t)/FR,this.t=s;let t=this.l();for(;t--;){const e=this._[t];var r;R.Is.def(e)&&(e.sT||(e.sT=s),r=s-e.sT,e.cb(r))}}this.raf()}raf(){requestAnimationFrame(this.loop)}l(){return this._.length}},new R.Raf);let RafId=0;R.RafR=class{constructor(t){this.cb=t,this.on=!1,this.id=RafId,RafId++}run(){this.on||(Raf.add({id:this.id,cb:this.cb}),this.on=!0)}stop(){this.on&&(Raf.remove(this.id),this.on=!1)}},R.Rand={range:(t,s,r)=>R.R(Math.random()*(s-t)+t,r),uniq:s=>{const r=[];for(let t=0;t<s;t++)r[t]=t;let t=s;for(var e,i;t--;)e=~~(Math.random()*(t+1)),i=r[t],r[t]=r[e],r[e]=i;return r}},R.Snif={uA:navigator.userAgent.toLowerCase(),get iPadIOS13(){return"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints},get isMobile(){return/mobi|android|tablet|ipad|iphone/.test(this.uA)||this.iPadIOS13},get isFirefox(){return-1<this.uA.indexOf("firefox")}},R.Svg={shapeL:e=>{var t,s,r,i;if("circle"===e.tagName)return 2*R.Ga(e,"r")*Math.PI;if("line"===e.tagName)return t=R.Ga(e,"x1"),s=R.Ga(e,"x2"),r=R.Ga(e,"y1"),i=R.Ga(e,"y2"),Math.sqrt((s-=t)*s+(i-=r)*i);if("polyline"!==e.tagName)return e.getTotalLength();{let s=0,r=0;var a=e.points.numberOfItems;for(let t=0;t<a;t++){var n=e.points.getItem(t);0<t&&(s+=R.Dist(n.x-r.x,n.y-r.y)),r=n}return s}},split:t=>{const r=[],s=t.split(" ");var e=s.length;for(let t=0;t<e;t++){var i=s[t].split(","),a=i.length;for(let s=0;s<a;s++){let t=i[s];t=isNaN(t)?t:+t,r.push(t)}}return r}},R.Timer=class{constructor(t){this._=new R.Delay(t.cb,t.delay)}run(){this._.stop(),this._.run()}},R.Une=(t,s,r)=>0!==R.R(Math.abs(t-s),r),R.Cr=t=>document.createElement(t),R.g=(t,s,r)=>{const e=t||document;return e["getElement"+s](r)},R.G={id:(t,s)=>R.g(s,"ById",t),class:(t,s)=>R.g(s,"sByClassName",t),tag:(t,s)=>R.g(s,"sByTagName",t)},R.Ga=(t,s)=>t.getAttribute(s),R.index=(s,r)=>{var e=r.length;for(let t=0;t<e;t++)if(s===r[t])return t;return-1},R.Index={list:t=>R.index(t,t.parentNode.children),class:(t,s,r)=>R.index(t,R.G.class(s,r))},R.PD=t=>{t.cancelable&&t.preventDefault()},R.RO=class{constructor(){this.eT=R.Snif.isMobile?"orientationchange":"resize",this.tick=!1,this._=[],R.BM(this,["fn","gRaf","run"]),this.t=new R.Timer({delay:40,cb:this.gRaf}),this.r=new R.RafR(this.run),R.L(window,"a",this.eT,this.fn)}add(t){this._.push(t)}remove(t){let s=this._.length;for(;s--;)if(this._[s].id===t)return void this._.splice(s,1)}fn(t){this.e=t,this.t.run()}gRaf(){this.tick||(this.tick=!0,this.r.run())}run(){let t=0;for(var s=this._.length;t<s;)this._[t].cb(this.e),t++;this.r.stop(),this.tick=!1}};const Ro=new R.RO;let RoId=0;R.ROR=class{constructor(t){this.cb=t,this.id=RoId,RoId++}on(){Ro.add({id:this.id,cb:this.cb})}off(){Ro.remove(this.id)}},R.O=(t,s)=>{t.style.opacity=s},R.pe=(t,s)=>{t.style.pointerEvents=s},R.PE={all:t=>{R.pe(t,"all")},none:t=>{R.pe(t,"none")}},R.T=(t,s,r,e)=>{e=R.Is.und(e)?"%":e;t.style.transform="translate3d("+s+e+","+r+e+",0)"};!function(){"use strict";class t{constructor(t){this.data=t}get(){let t=this.data[_A.route.new.url];return R.Is.und(t)&&(t=this.data.p404),t}}class i{constructor(t){_A.win={w:0,h:0},this.d=t,R.BM(this,["resize"]),new R.ROR(this.resize).on(),this.resize()}resize(){const t=_A,i=innerWidth,s=innerHeight;t.win={w:i,h:s},t.winSemi={w:.5*i,h:.5*s},t.winRatio={wh:i/s},t.isOver169=t.winRatio.wh>16/9;const e=t.config.psd[this.d];t.psd={h:e.h,w:e.w},t.winWpsdW=i/t.psd.w,t.winHpsdH=s/t.psd.h,t.sFxS=.9*t.win.h}}class s{constructor(){this.inDom=!1,R.BM(this,["resize"]),new R.ROR(this.resize).on(),this.resize()}resize(){const t=_A.winRatio.wh>1;t&&!this.inDom?this.a():!t&&this.inDom&&this.r()}a(){this.issW=R.Cr("div"),this.issW.className="iss-w";const t=R.Cr("div");t.className="iss",t.textContent="Please rotate your device.",this.issW.appendChild(t),document.body.prepend(this.issW),this.inDom=!0}r(){this.issW.parentNode.removeChild(this.issW),this.inDom=!1}}class e{constructor(t){this.cbFn=t.cb,this.isOn=!1,this.isFF=R.Snif.isFirefox,R.BM(this,["fn"]);const i=["mouseWheel","keydown"];for(let t=0;t<2;t++)R.L(document,"a",i[t],this.fn)}init(t){this.isX=t.isX}on(){this.tick=!1,this.isOn=!0}off(){this.isOn=!1}resize(){this.spaceGap=_A.win.h-40}fn(t){this.e=t,this.eT=t.type,this.eK=t.key,"keydown"===this.eT&&"Tab"!==this.eK||R.PD(t),this.isOn&&(this.tick||(this.tick=!0,this.run()))}run(){const t=this.eT;"wheel"===t?this.w():"keydown"===t&&this.key()}w(){const t=this.e;let i;const s=t.wheelDeltaY||-1*t.deltaY;if(this.isX){const e=t.wheelDeltaX||-1*t.deltaX;i=Math.abs(e)>=Math.abs(s)?e:s}else i=s;this.isFF&&1===t.deltaMode?i*=.75:i*=.556,this.s=-i,this.cb()}key(){const t=this.eK,i="ArrowUp"===t||"ArrowLeft"===t,s="ArrowDown"===t||"ArrowRight"===t,e=" "===t;if(i||s||e){const t=_A;if("in"===t.mode&&t.is.home)t.e.home.gl.arrowSlide(s||e?1:-1),this.tick=!1;else{let t=100;if(i)t*=-1;else if(e){const i=this.e.shiftKey?-1:1;t=this.spaceGap*i}this.s=t,this.cb()}}else this.tick=!1}cb(){this.cbFn(this.s),this.tick=!1}}class r{constructor(t){this.isSTo=!1,this.sUp=t.sUp,R.BM(this,["wFooterFn","aLeftFn","wPreviewFn","wHeroScrollFn"])}init(){const t=_A;this.url=t.route.new.url,this.isAbout=t.is.about,this.isWork=t.is.work}stop(){this.isSTo&&(this.anim.pause(),this.isSTo=!1)}wFooterFn(){this.stop();const t=_A.e.s,i=R.R(t._[this.url].curr),s=t.max,e=Math.abs(s-i),r=0===e?0:R.Lerp(100,500,R.Clamp(e/3e3,0,1));this.play({start:i,end:s,d:r,e:"io1"})}aLeftFn(t){this.stop();const i=_A,s=i.e.s;if(s.isDragging)return;const e=R.R(s._[this.url].curr),r=R.G.id("a-l"),h=R.G.id("a-r").offsetHeight/r.offsetHeight,o=R.Clamp((t.pageY-r.getBoundingClientRect().top)*h-i.winSemi.h,0,s.max),n=Math.abs(o-e),a=0===n?0:R.Lerp(100,400,R.Clamp(n/3e3,0,1));this.play({start:e,end:o,d:a,e:"io1"})}wPreviewFn(t){this.stop();const i=_A,s=i.e.s,e=R.R(s._[this.url].step),r=R.G.class("w-preview-w"),h=r[r.length-1],o=R.Index.class(t.target,"w-preview",h),n=R.G.class("w-s"),a=n[n.length-1].children[o],l=a.getBoundingClientRect().top-this.y(a)-i.e.work.preview.areaRight,c=Math.abs(l-e),p=0===c?0:R.Lerp(100,400,R.Clamp(c/3e3,0,1));this.play({start:e,end:l,d:p,e:"io1"})}y(t){const i=t.style.transform.match(/^translate3d\((.+)\)$/)[1].split(", ");return parseFloat(i[1])}wHeroScrollFn(){this.stop();const t=_A,i=t.e.s,s=R.R(i._[this.url].step),e=t.win.h,r=Math.abs(e-s),h=0===r?0:R.Lerp(100,500,R.Clamp(r/3e3,0,1));this.play({start:s,end:e,d:h,e:"io1"})}play(t){const i=t.start,s=t.end;this.anim=new R.M({d:t.d,e:t.e,update:t=>{const e=R.Lerp(i,s,t.progE);this.sUp(e)}}),this.isSTo=!0,this.anim.play()}on(){this.l("a")}off(){this.l("r")}l(t){const i="click";this.isAbout?R.L("#a-l-w",t,i,this.aLeftFn):this.isWork&&(R.L(".w-footer-link",t,i,this.wFooterFn),R.L(".w-preview",t,i,this.wPreviewFn),R.L(".w-hero-scroll",t,i,this.wHeroScrollFn))}}class h{constructor(t){this.cb=t.cb,this.el=R.Has(t,"el")?R.Select.el(t.el)[0]:document,R.BM(this,["run"])}on(){this.l("a")}off(){this.l("r")}l(t){R.L(this.el,t,"mousemove",this.run)}run(t){this.cb(t.pageX,t.pageY,t)}}class o{constructor(){_A.cursor={x:-1,y:-1},this.rqd=!1,this.min=0,this.maxStep=0,this.isDown=!1,this.isDragging=!1,this.prev=0,this.step=0,R.BM(this,["sFn","sUp","move","down","up"]),this.scrollV=new e({cb:this.sFn}),this.sVTo=new r({sUp:this.sUp}),this.mm=new h({cb:this.move})}intro(){const t=_A;this._={};const i=t.config.routes,s=Object.keys(i),e=s.length;for(let t=0;t<e;t++){const i=s[t];this._[i]={curr:0,targ:0,step:0,expand:0}}}init(t){const i=_A;this.url=i.route.new.url,this.isHome=i.is.home,this.isWork=i.is.work,this.isX=t.isX,this.scrollV.init(t),this.sVTo.init();let s=0;if(this.isHome&&"out"===i.mode){const t=i.e.home.gl.data;s=(t.out.w+t.out.gap.x)*i.index}this.sUpAll(s),this.resize()}resize(){const t=_A;if(this.scrollV.resize(),this.step=1.5*t.win.h,this.isHome)this.max=t.e.home.gl.max;else{const t=R.G.class("page"),i=t.length;this.max=Math.max(t[i-1].offsetHeight-_A.win.h,0),this.maxStep=this.max,this.isWork&&(this.max+=this.step),this.maxZero=0===this.max}const i=this.clamp(this._[this.url].targ);this.sUpAll(i)}expand(t,i){if(0===this.step)return 0;const s=R.Clamp(t-i,0,this.step)/this.step,e=R.iLerp(.15,1,s);return R.Ease.i2(e)}sFn(t){if(this.isDown)return;this.sVTo.stop();const i=_A;this.isHome&&"in"===i.mode?i.e.home.gl.change("out"):this.sUp(this.clamp(this._[this.url].targ+t))}sUp(t){const i=this.url;this._[i].targ=t}down(t){t.ctrlKey||"A"===t.target.tagName||0!==t.button?R.PD(t):(this.isDown=!0,this.isDragging=!1,this.start=this.isX?t.pageX:t.pageY,this.targ=this._[this.url].targ,this.targPrev=this.targ)}move(t,i,s){R.PD(s);const e=_A;if(e.cursor.x=t,e.cursor.y=i,!this.isDown)return;const r=e.mode,h=this.isX?t:i;if(!(Math.abs(h-this.start)<15)){if(!this.isHome||"out"===r){const t=3;h>this.prev&&this.targ===this.min?this.start=h-(this.targPrev-this.min)/t:h<this.prev&&this.targ===this.max&&(this.start=h-(this.targPrev-this.max)/t),this.prev=h,this.targ=-(h-this.start)*t+this.targPrev,this.targ=this.clamp(this.targ),this.sUp(this.targ)}this.isDragging=Math.abs(t-this.start)>10,this.isHome&&"in"===r&&this.isDragging&&e.e.home.gl.change("out")}}up(t){if(!this.isDown)return;if(this.isDown=!1,this.isDragging)return;const i=_A,s=i.mode;if(this.isHome){const e=i.e.home.gl;"out"===s?e.indexOver>-1&&(i.index=e.indexOver,e.change("in")):"in"===s&&e.inSlide(t)}}loop(){const t=_A.lerpP;if(this.rqd=this.unequal(),this.rqd){const i=this.url;this._[i].curr=R.Damp(this._[i].curr,this._[i].targ,t);const s=this.clampStep(this._[i].targ);this._[i].step=R.Damp(this._[i].step,s,t),this._[i].expand=this.expand(this._[i].curr,this._[i].step),this.isWork&&this._[i].curr>=this.max-2&&(this.sVTo.off(),R.G.class("w-footer-a")[0].click())}}unequal(){const t=this.url;return 0!==R.R(Math.abs(this._[t].curr-this._[t].targ))}sUpAll(t){const i=this.clampStep(t),s=this.url;this._[s].targ=t,this._[s].curr=t,this._[s].step=i,this._[s].expand=this.expand(t,i),this.targ=t,this.targPrev=t}clamp(t){return R.R(R.Clamp(t,this.min,this.max))}clampStep(t){return R.R(R.Clamp(t,this.min,this.maxStep))}l(t){const i=document;R.L(i,t,"mousedown",this.down),R.L(i,t,"mouseup",this.up)}on(){this.maxZero||(this.sVTo.on(),this.scrollV.on(),this.mm.on(),this.l("a"))}off(){this.maxZero||(this.sVTo.off(),this.scrollV.off(),this.mm.off(),this.l("r"))}}class n{constructor(){const t=_A;if(this.arr=[],this.arrL=0,this.notRequired=t.is.home,this.notRequired)return;this.isWork=t.is.work;const i=t.is.about,s=t.route.new;this.url=s.url;const e=R.G.class("page");let r=e[e.length-1].children;i&&(r=r[0].children);const h=r.length;for(let t=0;t<h;t++){const i=r[t];if(i.classList.contains("w-s")){const t=i.children,s=t.length;for(let i=0;i<s;i++)this.arr[this.arrL]={dom:t[i],inside:{}},this.arrL++}else i.classList.contains("_ns")||(this.arr[this.arrL]={dom:i,inside:{}},this.arrL++)}this.resize()}resize(){if(this.notRequired)return;const t=_A,i=this.isWork?"step":"curr",s=R.R(t.e.s._[this.url][i]),e=t.win.h;for(let t=0;t<this.arrL;t++){const i=this.arr[t];this.draw(i,-s);const r=i.dom.getBoundingClientRect().top-s-e,h=Math.min(r,0)+i.dom.offsetHeight+e;i.inside.start=r,i.inside.end=h+Math.max(r,0),i.isOut=!1}this.run()}run(){if(this.notRequired)return;const t=this.isWork?"step":"curr",i=R.R(_A.e.s._[this.url][t]);for(let t=0;t<this.arrL;t++){const s=this.arr[t];i>s.inside.start&&i<=s.inside.end?(s.isOut&&(s.isOut=!1),this.draw(s,i)):s.isOut||(s.isOut=!0,this.draw(s,i))}}draw(t,i){R.T(t.dom,0,R.R(-i),"px")}}class a{initA(){const t=_A;if(this.notRequired=!t.is.work,this.notRequired)return;this.url=t.route.new.url,this.img=[],this.imgI=[];const i=R.G.class("page"),s=i[i.length-1],e=R.G.class("_lz",s);this.lzL=e.length;for(let t=0;t<this.lzL;t++){const i=e[t];this.img[t]={src:i.dataset.src,dom:i}}for(let t=0;t<this.lzL;t++)this.img[t].decode=!1,this.img[t].show=!1;this.resizeA()}resizeA(){if(this.notRequired)return;const t=_A,i=t.e.s._[this.url].step,s=t.win.h;for(let t=0;t<this.lzL;t++){const e=this.img[t].dom;if(R.Is.def(e)){const r=e.getBoundingClientRect().top+i;this.img[t].limit={decode:Math.max(r-2*s,0),show:Math.max(r-.8*s,0)}}}}loop(){if(this.notRequired)return;const t=_A.e.s._[this.url].step;for(let i=0;i<this.lzL;i++){const s=this.img[i];t>s.limit.decode&&!s.decode&&(this.img[i].decode=!0,this.decode(i)),t>s.limit.show&&!s.show&&(this.img[i].show=!0,this.show(i))}}show(t){this.img[t].dom.classList.add("fx")}decode(t){const i=this.img[t].dom,s=this.img[t].src;this.imgI[t]=new Image,this.imgI[t].src=s,this.imgI[t].decode().then((t=>{R.Is.def(i)&&(i.src=s,delete i.dataset.src)}))}off(){if(this.notRequired)return;const t=this.imgI.length;for(let i=0;i<t;i++)R.Is.def(this.imgI[i])&&(this.imgI[i].src="data:,")}}class l{constructor(){this.moving=!1}intro(){const t=_A;this.url=t.route.new.url,this.isHome=t.is.home,this.isWork=t.is.work,this.isAbout=t.is.about;const i=t.rgl._,s=i.load;if(this.texLoad=s.plane,this.texL=s.planeL,this.tex=[],this.y=[],this.isHome?(this.texLarge=i.large.plane,this.texMain=this.texLarge[0]):this.isWork?this.texMain=i[this.url].plane[0]:this.isAbout&&(this.texMain=this.texLoad[12]),this.isHome){const t=i.small;this.texSmall=t.plane,this.texSmallL=t.planeL}this.resizeA()}resizeA(){const t=_A;if(!t.introducing)return;const i=t.win.w,s=t.win.h,e=30*t.winWpsdW,r=(i-4*e)/4,h=r*s/i,o=h+e,n=r+e,a=.5*o,l=s+.5*(5*h+4*e-s),c=12*h,p=i+2,d=s+2,g=e*p/r,u=d+g,m=p+g;for(let t=0;t<this.texL;t++){const e=12===t,g=Math.floor(t/5),f=g%2==1,x=g-2,w=Math.abs(x),R=t%5,y=R-2;this.y[t]=f?-(l-a+(4-R)*c+w*h+20):l+R*c+w*h+20;const L=.5*(i-r)+x*n,_=.5*(s-h)+y*o-(f?a:0),v=.5*(i-p)+x*m,A=.5*(s-d)+y*u-(f?.5*u:0);this.tex[t]={x:L-v,y:_-A,w:r-p,h:h-d,scale:e?.5:0};const b=e?this.texMain:this.texLoad[t];b.lerp.x=v,b.lerp.y=A,b.lerp.w=p,b.lerp.h=d,b.intro.x=this.tex[t].x,b.intro.y=this.tex[t].y,b.intro.w=this.tex[t].w,b.intro.h=this.tex[t].h,b.intro.scale=this.tex[t].scale}if(this.isHome){const i=t.e.home.gl.data.in.small;this.bottomY=s+i.gap.x-i.y}}fx(t){const i=_A.config.isLocal;if(this.isHome)for(let t=0;t<this.texSmallL;t++){(0===t?this.texSmall:this.texLarge)[9*t].intro.y=this.bottomY}let s=5e3,e=t.delay;i&&(s=1,e=0);const r=R.Ease4([.8,0,.1,1]),h=R.Ease4([.72,0,.11,1]);this.introFx=new R.M({d:s,e:"linear",delay:e,update:t=>{this.moving=!0;const i=t.prog,s=r(R.iLerp(0,.65,i)),e=h(R.iLerp(.4,1,i));for(let t=0;t<this.texL;t++){const i=12===t?this.texMain:this.texLoad[t],r=R.Lerp(this.y[t],0,s);i.intro.x=R.Lerp(this.tex[t].x,0,e),i.intro.y=R.Lerp(this.tex[t].y,0,e)+r,i.intro.w=R.Lerp(this.tex[t].w,0,e),i.intro.h=R.Lerp(this.tex[t].h,0,e),i.intro.scale=R.Lerp(this.tex[t].scale,0,e)}},cb:t=>{this.moving=!1}});let o=[];if(this.isHome){let t=1500,s=3200,e=50;i&&(t=1,s=0,e=0);for(let i=0;i<this.texSmallL;i++)o[i]=new R.M({d:t,e:"o6",delay:s+e*i,update:t=>{this.moving=!0;(0===i?this.texSmall:this.texLarge)[9*i].intro.y=R.Lerp(this.bottomY,0,t.progE)},cb:t=>{this.moving=!1}})}return{play:t=>{if(this.introFx.play(),this.isHome)for(let t=0;t<this.texSmallL;t++)o[t].play()}}}}class c{constructor(){this.page=["home","about"]}intro(){this.nav=R.G.class("nav-a"),this.up()}up(){const t=_A,i=t.route.old.page;i&&this.upC(i,"remove");const s=t.route.new.page;this.upC(s,"add")}upC(t,i){const s=this.page.indexOf(t);if(s>-1){const t="add"===i?"none":"all";R.PE[t](this.nav[s]),this.nav[s].classList[i]("on")}}}class p{constructor(t){const i=t.index,s=t.delay;this.propArr=t.prop,this.propArrL=this.propArr.length,this.prop=[],this.prog={show:{start:i*s,end:1-(t.length-1-i)*s},hide:{start:0,end:1}},this.curr=[];for(let t=0;t<this.propArrL;t++){const i=this.propArr[t];this.curr[t]=i[1],this.prop[t]={round:"y"===i[0]||"x"===i[0]?3:6}}}prepare(t){this.isShow=t.isShow;const i=t.isRunning;for(let s=0;s<this.propArrL;s++){const e=this.propArr[s],r=e[1],h=e[2];"opacity"===e[0]?this.isShow?(this.prop[s].start=i?this.curr[s]:r,this.prop[s].end=h):(this.prop[s].start=this.curr[s],this.prop[s].end=r):this.isShow?(this.prop[s].start=i?this.curr[s]:r,this.prop[s].end=0):(this.prop[s].start=this.curr[s],this.prop[s].end=t.propEndIsEnd?h:r)}const s=this.isShow&&!i?this.prog.show:this.prog.hide;this.prog.start=s.start,this.prog.end=s.end}loop(t){const i=t.el,s=t.elL,e=[0,0],r=R.Remap(this.prog.start,this.prog.end,0,1,t.prog),h=t.rEase(r);let o="",n="";for(let t=0;t<this.propArrL;t++){const i=this.propArr[t][0],s=this.prop[t];this.curr[t]=R.R(R.Lerp(s.start,s.end,h),s.round),"y"===i?e[1]=this.curr[t]:"x"===i?e[0]=this.curr[t]:"rotateX"===i?o=" rotateX("+this.curr[t]+"deg)":"opacity"===i&&(n=this.curr[t])}for(let t=0;t<s;t++){const s=i[t].style;s.transform="translate3d("+e[0]+"%,"+e[1]+"%,0)"+o,""!==n&&(s.opacity=n)}}}class d{constructor(t){this.a=_A,this.delay=t.delay;const i=t.el,s=t.descendant,e=t.prop,r=t.indexStart;this.random=t.random,this.length=t.length,this.element=[],this.elementL=[],this.obj=[],this.objL=i.length,this.randUniq=[];const h=t.objLength;for(let t=0;t<this.objL;t++)this.element[t]=2===s?i[t].children:[i[t]],this.elementL[t]=this.element[t].length,this.obj[t]=new p({index:r+t,length:h,delay:this.delay,prop:e}),this.randUniq[t]=t}prepare(t){!t.isRunning&&this.random&&(this.randUniq=R.Rand.uniq(this.objL));for(let i=0;i<this.objL;i++)this.obj[i].prepare(t)}loop(t){const i=t.prog,s=t.rEase;for(let t=0;t<this.objL;t++)this.obj[t].loop({el:this.element[this.randUniq[t]],elL:this.elementL[t],prog:i,rEase:s})}}class g{constructor(t){this.a=_A,this.delay=t.delay||0;const i=t.lineStartTogether||!1,s=t.descendant,e=t.random||!1;let r=t.el;R.Is.und(r.length)&&(r=[r]),this.lineL=r.length;const h=t.prop;this.start=h[0][1],this.objLength=this.lineL;const o=r[0].children;s>0&&1===this.lineL&&o.length>1&&(this.objLength=o.length),this.line=[];let n=0;for(let t=0;t<this.lineL;t++){const o=0===s?[r[t]]:r[t].children;this.line[t]=new d({length:this.lineL,objLength:this.objLength,indexStart:n,descendant:s,el:o,prop:h,delay:this.delay,random:e}),i||(n+=this.line[t].objL)}}motion(t){R.Is.def(this.letterAnim)&&this.letterAnim.pause();const i="show"===t.action,s=t.d,e=R.Ease[t.e],r=this.line,h=this.lineL,o=r[0].obj[0].curr[0];let n=!1;i||(n=this.start<0&&o>0||(this.start>0&&o<0||Math.abs(o)<Math.abs(.3*this.start)));let a=t.delay;i&&this.isRunning&&(a=0);for(let t=0;t<h;t++)r[t].prepare({isShow:i,isRunning:this.isRunning,propEndIsEnd:n});const l=s/(i?1-(this.objLength-1)*this.delay:1);return this.letterAnim=new R.M({delay:a,d:l,update:t=>{const i=t.prog;for(let t=0;t<h;t++)r[t].loop({prog:i,rEase:e})},cb:t=>{this.isRunning=!1}}),{play:t=>{this.isRunning=!0,this.letterAnim.play()}}}}class u{intro(){const t=R.G.id("nav");this.fx=new g({descendant:2,el:t,prop:[["y",110,-110]],delay:.05})}show(t){const i=_A,s=i.config.isLocal&&i.introducing,e=t.mutation;let r=t.delay,h=1500;(e&&i.fromBack||s)&&(r=0,h=0);const o=this.fx.motion({action:"show",d:h,e:"o6",delay:r,reverse:!1});return{play:t=>{o.play()}}}hide(t){const i=_A,s=t.mutation;let e=t.delay,r=500,h="o2";s&&(i.fromBack?(e=0,r=0):(r=600,h="i3"));const o=this.fx.motion({action:"hide",d:r,e:h,delay:e,reverse:!1});return{play:t=>{o.play()}}}}class m{constructor(){this.active=new c,this.fx=new u}intro(){this.active.intro(),this.fx.intro()}}class f{init(){const t=_A;this.url=t.route.new.url;const i=t.rgl._;this.largeL=i.large.planeL,this.smallL=i.small.planeL}resize(){const t=_A,i=t.win;this.winW=i.w,this.winH=i.h;const s=t.isOver169?t.winHpsdH:t.winWpsdW,e=R.R(76*s,0),r=R.R(9*e/16);this.in={large:{x:-1,y:-1,w:this.winW+2,h:this.winH+2},small:{x:R.R(this.winW-40-e,0),y:R.R(this.winH-40-r,0),w:e,h:r,gap:{x:R.R(5*s,0)}}},this.out={gap:{x:R.R(30*s,0)},w:R.R(350*s,0),h:R.R(500*s,0)},this.out.y=.5*(this.winH-this.out.h),this.out.x=.5*(this.winW-this.out.w),this.out.gapXW=this.out.w+this.out.gap.x,this.out.max=this.out.w*(this.smallL-1)+this.out.gap.x*(this.smallL-1)}_in(t){const i=_A.index,s=this.in.large,e=this.in.small,r=t.delay,h=[];for(let t=0;t<this.largeL;t++){const o=t%this.smallL,n=Math.floor(t/this.smallL),a=h[t]={};a.scale=1,a.opacity=1,a.pY=0,a._delay=0,r&&(a._delay=40*Math.max(Math.abs(o-i)-1,0)),n===i?(a.y=s.y,a.h=s.h,o===i?(a.x=s.x,a.w=s.w):(a.x=o<i?s.x:s.x+s.w,a.w=0)):(a.x=e.x-(e.w+e.gap.x)*(this.smallL-1-n),a.y=e.y,a.h=e.h,a.w=o===n?e.w:0)}const o=[];for(let t=0;t<this.smallL;t++){const s=o[t]={};s.x=e.x-(e.w+e.gap.x)*(this.smallL-1-t),s.w=e.w,s.h=e.h,s.scale=1,s.opacity=1,s.y=t===i?e.y:this.winH+e.gap.x,s.pY=0,s._delay=0,r&&(s._delay=240)}return{large:h,small:o}}_out(t){const i=_A.index,s=this.in.small,e=this.out,r=t.delay,h=[];for(let t=0;t<this.largeL;t++){const s=t%this.smallL,o=Math.floor(t/this.smallL),n=h[t]={};n.y=e.y,s===o?(n.w=e.w,n.x=e.x+(e.w+e.gap.x)*o):(n.w=0,n.x=i<s?e.x+(e.w+e.gap.x)*o+e.w:e.x+(e.w+e.gap.x)*o),n.h=e.h,n.scale=1.25,n.opacity=1,n.pY=0,n._delay=0,r&&(n._delay=o===i?0:40*s)}const o=[];for(let t=0;t<this.smallL;t++){const i=o[t]={};i.x=s.x-(s.w+s.gap.x)*(this.smallL-1-t),i.y=this.winH+s.gap.x,i.w=s.w,i.h=s.h,i.scale=1,i.opacity=1,i.pY=0,i._delay=0}return{large:h,small:o}}}class x{constructor(){this.moving=!1,this.easing=!1,this.data=new f}initB(){const t=_A;this.url=t.route.new.url;const i=t.rgl._.large,s=t.rgl._.small;this.texLarge=i.plane,this.texLargeL=i.planeL,this.texSmall=s.plane,this.texSmallL=s.planeL,this.prop=i.lerp.prop,this.propL=i.lerp.propL,this.unequal=i.unequal,this.small={curr:[],targ:[],_delay:[]},this.large={curr:[],targ:[],_delay:[]},this.pgn=R.G.id("h-pgn-left"),this._pgn={curr:0,targ:0},this.cross=R.G.id("h-cross").children,this.crossR=0,this.indexOver=-1,this.mutationFx=[],this.pX={curr:[],targ:[]};for(let t=0;t<this.texSmallL;t++)this.pX.curr[t]=0,this.pX.targ[t]=0;this.zIndex(),this.data.init(),this.resizeB()}initA(){this.resizeA()}resizeB(){const t=_A;this.data.resize(),this.outGapXW=this.data.out.gapXW,this.prlxNorm=t.winSemi.w+.5*this.data.out.w,this.max=this.data.out.max;const i=_A.index;this.pgnH=this.pgn.parentNode.offsetHeight,this._pgn.curr=i*this.pgnH,this._pgn.targ=i*this.pgnH}resizeA(){const t=_A;this._set({_:["curr","targ"],value:this.data["_"+t.mode]({delay:!1}),delay:!1}),this.texSet()}over(){const t=_A,i=t.index,s=t.mode,e=t.cursor.x,r=t.cursor.y;this.indexOver=-1;for(let t=0;t<this.texSmallL;t++){let h;if(t===i&&"in"===s)h=this.texSmall[t].lerp;else{const i=t*this.texSmallL+t;h=this.texLarge[i].lerp}const o=e>=h.x&&e<=h.x+h.w,n=r>=h.y&&r<=h.y+h.h;if(o&&n){if("in"===s){this.indexOver=t;break}if("out"===s){this.indexOver=t;break}}}}inSlide(t){const i=_A,s=i.index;if(this.indexOver===s)return;let e;this.indexOver>-1?(e=this.indexOver,this.slide(e)):t.pageX>i.winSemi.w?s<7&&(e=s+1,this.slide(e)):s>0&&(e=s-1,this.slide(e))}arrowSlide(t){const i=t,s=_A.index;0===s&&-1===i||7===s&&1===i||this.slide(s+i)}slide(t){const i=_A,s=i.mode,e=i.index,r=t;for(let t=0;t<this.propL;t++){const i=r,s=8*r+r,e=this.prop[t];this.small.curr[i][e]=this.large.curr[s][e],this.small.targ[i][e]=this.large.targ[s][e]}const h=8*r,o=h+8;for(let t=h;t<o;t++){const i=t,s=t-8*(r-e);for(let t=0;t<this.propL;t++){const e=this.prop[t];this.large.curr[i][e]=this.large.curr[s][e],this.large.targ[i][e]=this.large.targ[s][e]}}const n=8*e,a=n+8;for(let t=n;t<a;t++){const i=t%this.texSmallL,s=Math.floor(t/this.texSmallL);for(let r=0;r<this.propL;r++){const h=this.prop[r];"w"===h?(this.large.curr[t][h]=s===i?this.small.curr[e][h]:0,this.large.targ[t][h]=s===i?this.small.targ[e][h]:0):(this.large.curr[t][h]=this.small.curr[e][h],this.large.targ[t][h]=this.small.targ[e][h])}}const l=_A.win.h+this.data.in.small.gap.x;this.small.curr[e].y=l,this.small.targ[e].y=l,i.index=r,this.zIndex();const c=r>e?1:-1;this.crossR+=90*c,this.cross[0].style.transform="rotate("+this.crossR+"deg)",this.cross[1].style.transform="rotate("+this.crossR+"deg)";const p=i.e.home.fxTitle.hide({index:e,delay:0}),d=i.e.home.fxTitle.show({index:r,delay:300});if(this._pgn.targ=r*this.pgnH,R.Is.def(i.e.load.introFx)){i.e.load.introFx.pause();const t=this.texLarge[0];t.intro.x=0,t.intro.y=0,t.intro.w=0,t.intro.h=0,t.intro.scale=0}this._set({_:["targ"],value:this.data["_"+s]({delay:!1}),delay:!1}),p.play(),d.play()}change(t){const i=_A,s=i.index,e="in"===t;i.mode=t,this._pgn.targ=s*this.pgnH;const r=e?"show":"hide",h=e?240:0,o=i.e.home.fxTitle[r]({index:s,delay:h}),n=e?"hide":"show",a=e?500:0,l=e?"show":"hide",c=e?0:300,p=i.e.home.fxCross.middle({a:n,delay:c}),d=i.e.home.fxCross.side({a:l,delay:a});let g;this.zIndex(),e?(g=-R.R(i.e.s._[this.url].curr),i.e.s.sUpAll(0)):(g=R.Clamp(this.outGapXW*s,0,this.data.out.max),i.e.s.sUpAll(g));for(let t=0;t<this.texLargeL;t++)this.large.curr[t].x+=g,this.large.targ[t].x+=g;this._set({_:["targ"],value:this.data["_"+i.mode]({delay:!0}),delay:!0}),p.play(),d.play(),o.play()}loop(){this.over(),this.texSet()}texSet(){const t=_A,i="out"===t.mode,s=t.lerpP,e=t.e.s._[this.url].curr;if(i){const t=Math.floor(e/(this.data.out.w+this.data.out.gap.x)+.5);this._pgn.targ=t*this.pgnH}this._pgn.curr=R.Damp(this._pgn.curr,this._pgn.targ,s),R.T(this.pgn,0,R.R(-this._pgn.curr),"px"),this.moving=this.easing;for(let t=0;t<this.texLargeL;t++){const i=this.texLarge[t],r=this.large.curr[t],h=this.large.targ[t];for(let t=0;t<this.propL;t++){const o=this.prop[t];this.unequal({prop:o,a:r,b:h})&&(r[o]=R.Damp(r[o],h[o],s),this.moving=!0),i.lerp[o]=r[o],"x"===o&&(i.lerp[o]-=e)}}for(let t=0;t<this.texSmallL;t++){const i=this.texSmall[t],e=this.small.curr[t],r=this.small.targ[t];for(let t=0;t<this.propL;t++){const h=this.prop[t];this.unequal({prop:h,a:e,b:r})&&(e[h]=R.Damp(e[h],r[h],s),this.moving=!0),i.lerp[h]=e[h]}}for(let t=0;t<this.texSmallL;t++){i?(this.pX.targ[t]=-.25*R.Clamp((e-this.data.out.gapXW*t)/this.prlxNorm,-1,1),this.pX.curr[t]=this.pX.targ[t]):(this.pX.targ[t]=0,this.pX.curr[t]=R.Damp(this.pX.curr[t],this.pX.targ[t],s)),0!==R.R(Math.abs(this.pX.curr[t]-this.pX.targ[t]),6)&&(this.moving=!0);const r=t*this.texSmallL+t;this.texLarge[r].lerp.pX=this.pX.curr[t]}}_set(t){const i=t._,s=i.length,e=t.value,r=t.delay;for(let t=0;t<this.texSmallL;t++){const h=e.small[t],o=r?h._delay:0;for(let e=0;e<s;e++){const s=this.small[i[e]],r=this.small._delay;R.Is.def(r[t])&&r[t].stop(),r[t]=new R.Delay((i=>{s[t]={};for(let i=0;i<this.propL;i++){const e=this.prop[i];s[t][e]=h[e]}}),o),r[t].run()}}for(let t=0;t<this.texLargeL;t++){const h=e.large[t],o=r?h._delay:0;for(let e=0;e<s;e++){const s=this.large[i[e]],r=this.large._delay;R.Is.def(r[t])&&r[t].stop(),r[t]=new R.Delay((i=>{s[t]={};for(let i=0;i<this.propL;i++){const e=this.prop[i];s[t][e]=h[e]}}),o),r[t].run()}}}hide(){const t=_A,i=t.win.h,s="in"===t.mode;s||(t.index=Math.floor(t.e.s._[this.url].curr/(this.data.out.w+this.data.out.gap.x)+.5));const e=t.index,r=i+this.data.in.small.gap.x-this.data.in.small.y,h=-(this.data.out.y+this.data.out.h+this.data.out.gap.x);let o=1300;t.fromBack&&(o=1);const n=[];let a=0,l=0;for(let i=0;i<this.texSmallL;i++){const r=i===this.texSmallL-1;t.fromBack?n[i]=r?1:0:n[i]=s?40*i:20*Math.abs(i-Math.max(e-2,0)),n[i]>=l&&(l=n[i],a=i)}const c=t=>{this.reset()};this.mutationFxPause();const p=[];for(let t=0;t<this.texSmallL;t++)p[t]=this.texSmall[t].ease.y;const d=[];for(let t=0;t<this.texLargeL;t++)d[t]=this.texLarge[t].ease.y;for(let t=0;t<this.texSmallL;t++){const l=t===a&&c,g=this.texSmallL*t;this.mutationFx[t]=new R.M({d:o,e:[.64,0,.12,1],delay:n[t],update:o=>{if(this.easing=!0,this.moving=!0,this.texSmall[t].ease.y=R.Lerp(p[t],r,o.progE),s){if(0===t)for(let t=0;t<this.texSmallL;t++){const s=t+this.texSmallL*e;this.texLarge[s].ease.y=R.Lerp(d[s],-(i+2),o.progE),this.texLarge[s].ease.pY=R.Lerp(0,-.6,o.progE)}if(t!==e)for(let t=0;t<this.texSmallL;t++){const i=t+g;this.texLarge[i].ease.y=R.Lerp(d[i],r,o.progE)}}else for(let t=0;t<this.texSmallL;t++){const i=t+g;this.texLarge[i].ease.y=R.Lerp(d[i],h,o.progE)}},cb:l})}return{play:t=>{for(let t=0;t<this.texSmallL;t++)this.mutationFx[t].play()}}}show(){const t=_A,i=t.index,s=t.win.h,e="in"===t.mode,r=this.data.in.small,h=s+r.gap.x-r.y,o=this.data.out.y+this.data.out.h;let n=1300;t.fromBack&&(n=1);const a=[];let l=0,c=0;for(let s=0;s<this.texSmallL;s++){const r=s===this.texSmallL-1;t.fromBack?a[s]=r?1:0:a[s]=e?40*s:20*Math.abs(s-Math.max(i-2,0)),a[s]>=c&&(c=a[s],l=s)}const p=this.texSmallL*i+i;e&&(this.texLarge[p].ease.scale=.15);const d=t=>{this.reset()};this.mutationFxPause();for(let s=0;s<this.texSmallL;s++){const r=s===l&&d,c=this.texSmallL*s;if(this.texSmall[s].ease.y=h,e){if(s!==i)for(let t=0;t<this.texSmallL;t++){const i=t+c;this.texLarge[i].ease.y=h}}else for(let t=0;t<this.texSmallL;t++){const i=t+c;this.texLarge[i].ease.y=o}this.mutationFx[s]=new R.M({d:n,e:"o6",delay:a[s],update:i=>{if(this.easing=!0,this.moving=!0,this.texSmall[s].ease.y=R.Lerp(h,0,i.progE),e){if(0===s){for(let i=0;i<this.texSmallL;i++){const s=i+this.texSmallL*t.index;this.texLarge[s].ease.y=0,this.texLarge[s].ease.pY=0}this.texLarge[p].ease.scale=R.Lerp(.15,0,i.progE)}if(s!==t.index)for(let t=0;t<this.texSmallL;t++){const s=t+c;this.texLarge[s].ease.y=R.Lerp(h,0,i.progE)}}else for(let t=0;t<this.texSmallL;t++){const s=t+c;this.texLarge[s].ease.y=R.Lerp(o,0,i.progE)}},cb:r})}return{play:t=>{for(let t=0;t<this.texSmallL;t++)this.mutationFx[t].play()}}}mutationFxPause(){for(let t=0;t<this.texSmallL;t++)R.Is.def(this.mutationFx[t])&&this.mutationFx[t].pause()}reset(){for(let t=0;t<this.texLargeL;t++)this.texLarge[t].lerp.h=0,this.texLarge[t].ease.y=0,this.texLarge[t].ease.pY=0,this.texLarge[t].ease.scale=0;for(let t=0;t<this.texSmallL;t++)this.texSmall[t].lerp.h=0,this.texSmall[t].ease.y=0,this.texSmall[t].ease.pY=0,this.texLarge[t].ease.scale=0;this.moving=!1,this.easing=!1}zIndex(){for(let t=0;t<this.texLargeL;t++){const i=Math.floor(t/this.texSmallL);this.texLarge[t].zIndex=i===_A.index?0:1}}}class w{init(){this.title=R.G.class("h-title"),this.fx=[];for(let t=0;t<8;t++)this.fx[t]=new g({descendant:1,el:this.title[t],prop:[["y",140,-140]]})}show(t){const i=_A,s=i.config.isLocal&&i.introducing,e=t.mutation;let r=t.delay,h=1500;(e&&i.fromBack||s)&&(r=0,h=0);const o=this.fx[t.index].motion({action:"show",d:h,e:"o6",delay:r,reverse:!1});return{play:i=>{R.PE.all(this.title[t.index]),o.play()}}}hide(t){const i=_A,s=t.mutation;let e=t.delay,r=500,h="o2";s&&(i.fromBack?(e=0,r=0):(r=600,h="i3"));const o=this.fx[t.index].motion({action:"hide",d:r,e:h,delay:e,reverse:!1});return{play:i=>{R.PE.none(this.title[t.index]),o.play()}}}}class y{init(){this.svg=R.G.id("h-cross").children,this.coord={hide:["11,11.75 11,11.75 11,10.249 11,10.249 11,11","11.75,11 11.75,11 10.249,11 10.249,11 11,10.999"],show:["22,11.751 0,11.751 0,10.249 22,10.249 22,11","11.751,0 11.751,22 10.249,22 10.249,0 11,0"]},this.morph=[];for(let t=0;t<3;t++)this.morph[t]=[]}middle(t){const i=_A,s="show"===t.a,e=t.mutation,r=i.config.isLocal&&i.introducing;let h=t.delay,o=s?1200:250;const n=s?"o6":"o2";(e&&i.fromBack||r)&&(h=0,o=0);for(let i=0;i<2;i++)R.Is.def(this.morph[2][i])&&this.morph[2][i].pause(),this.morph[2][i]=new R.M({el:this.svg[2].children[0].children[i],svg:{type:"polygon",end:this.coord[t.a][i]},d:o,e:n,delay:h,r:6});return{play:t=>{for(let t=0;t<2;t++)this.morph[2][t].play()}}}side(t){const i=_A,s="show"===t.a,e=t.mutation,r=i.config.isLocal&&i.introducing;let h=t.delay,o=s?1200:250;const n=s?"o6":"o2";(e&&i.fromBack||r)&&(h=0,o=0);for(let i=0;i<2;i++)for(let s=0;s<2;s++)R.Is.def(this.morph[i][s])&&this.morph[i][s].pause(),this.morph[i][s]=new R.M({el:this.svg[i].children[0].children[s],svg:{type:"polygon",end:this.coord[t.a][s]},d:o,e:n,delay:h,r:6});return{play:t=>{for(let t=0;t<2;t++)for(let i=0;i<2;i++)this.morph[t][i].play()}}}}class L{init(){this.left=new g({descendant:0,el:R.G.id("h-pgn-left-w"),prop:[["x",-110,-110]],delay:0}),this.right=new g({descendant:0,el:R.G.id("h-pgn-right"),prop:[["x",110,110]],delay:0}),this.scale=new R.M({el:"#h-pgn-middle",p:{scaleX:[0,1]},r:6})}show(t){const i=_A,s=t.mutation,e=i.config.isLocal&&i.introducing;let r=t.delay,h=1500;const o="o6";(s&&i.fromBack||e)&&(r=0,h=0);const n=this.left.motion({action:"show",d:h,e:o,delay:r,reverse:!1}),a=this.right.motion({action:"show",d:h,e:o,delay:r,reverse:!1});return{play:t=>{this.scale.play({d:h,e:o,delay:r}),n.play(),a.play()}}}hide(t){const i=_A,s=t.mutation;let e=t.delay,r=500,h="o2";s&&(i.fromBack?(e=0,r=0):(r=600,h="i3"));const o=this.left.motion({action:"hide",d:r,e:h,delay:e,reverse:!1}),n=this.right.motion({action:"hide",d:r,e:h,delay:e,reverse:!1});return{play:t=>{this.scale.play({d:r,e:h,delay:e,reverse:!0}),o.play(),n.play()}}}}class _{constructor(){R.BM(this,["fn"])}init(){this.no=R.G.class("h-title-no"),this.fx=[],this.visible=[];for(let t=0;t<8;t++)this.fx[t]=new g({descendant:1,el:this.no[t],prop:[["y",112,-112]]}),this.visible[t]=!1}fn(t){const i="mouseenter"===t.type,s=R.Index.class(t.target,"h-title-a"),e=i?"show":"hide",r=i?1200:300,h=i?"o6":"o2";this.visible[s]=i;this.fx[s].motion({action:e,d:r,e:h,delay:0,reverse:!1}).play()}hide(t){const i=_A,s=t.index;if(!this.visible[s])return{play:t=>{}};let e=600;t.mutation&&i.fromBack&&(e=0);const r=this.fx[s].motion({action:"hide",d:e,e:"i3",delay:0,reverse:!1}),h=new R.M({el:this.no[s],p:{y:[0,-300]},d:e,e:"i3"});return{play:t=>{r.play(),h.play()}}}on(){this.l("a")}off(){this.l("r")}l(t){R.L(".h-title-a",t,"mouseenter",this.fn),R.L(".h-title-a",t,"mouseleave",this.fn)}}class v{constructor(){this.gl=new x,this.fxTitle=new w,this.fxCross=new y,this.fxPgn=new L,this.over=new _}initB(){this.notRequired=!_A.is.home,this.notRequired||this.gl.initB()}initA(){this.notRequired||(this.gl.initA(),this.fxTitle.init(),this.fxCross.init(),this.fxPgn.init(),this.over.init())}resizeB(){this.notRequired||this.gl.resizeB()}resizeA(){this.notRequired||this.gl.resizeA()}loop(){this.notRequired&&!this.gl.moving||this.gl.loop()}on(){this.over.on()}off(){this.over.off()}}class A{constructor(){this.moving=!1,this.easing=!1}initB(){const t=_A;this.url=t.route.new.url;const i=t.rgl._[this.url];this.tex=i.plane,this.texL=i.planeL,this.prop=i.lerp.prop,this.propL=i.lerp.propL,this.unequal=i.unequal;const s=R.G.class("w-footer"),e=R.G.class("w-progress"),r=R.G.class("w-footer-exp"),h=s.length-1;this.footer=s[h],this.progress=e[h],this.footerExp=r[h].children[0],this.footerExpValue=0,R.T(this.progress,0,-100),this.targ=[],this.expand=[]}initA(){this.resizeA()}resizeA(){const t=_A,i=t.e.s._[this.url].step,s=t.win.w,e=t.win.h,r=t.isOver169?t.winHpsdH:t.winWpsdW;this.targ[0]={x:0,y:0,w:s,h:e,scale:1,opacity:1,pY:0},this.expand[0]={x:0,y:0,w:0,h:0,scale:0,opacity:0,pY:0};const h=350*r,o=500*r,n=.5*(s-h),a=this.footer.getBoundingClientRect().top+i+.5*(e-o),l=s+2-h,c=e+2-o,p=-n-1,d=.5*-(e+2-o);this.targ[1]={x:n,y:a,w:h,h:o,scale:1.25,opacity:1,pY:0},this.expand[1]={x:p,y:d,w:l,h:c,scale:-.25,opacity:0,pY:0},this.texSet()}loop(){this.texSet();const t=_A,i=t.e.s._[this.url],s=t.win.h;R.T(this.progress,0,R.R(R.Lerp(-100,0,i.curr/t.e.s.max))),this.tex[0].lerp.pY=R.Lerp(0,-.3,R.Clamp(0,s,i.step)/s)}texSet(){const t=_A.e.s._[this.url],i=t.step,s=t.expand;this.moving=this.easing;const e=R.R(100*s,0);this.footerExpValue!==e&&(this.footerExpValue=e,this.footerExp.textContent=e);for(let t=0;t<this.texL;t++){const e=this.tex[t],r=this.targ[t],h=this.expand[t];for(let t=0;t<this.propL;t++){const o=this.prop[t];e.lerp[o]=r[o]+h[o]*s,"y"===o&&(e.lerp[o]-=i)}}}hide(){const t=_A.win.h,i=this.tex[0],s=this.tex[1];return this.mutationFxPause(),{play:e=>{i.ease.y=t,i.ease.pY=0,i.lerp.h=0,s.lerp.h=0}}}showFromHome(){const t=_A,i=t.win.h,s=this.tex[0];let e=1290;return t.fromBack&&(e=1),this.mutationFxPause(),this.mutationFx=new R.M({d:e,e:[.64,0,.12,1],update:t=>{this.easing=!0,this.moving=!0,s.ease.y=R.Lerp(i,0,t.progE),s.ease.pY=R.Lerp(.6,0,t.progE)},cb:t=>{this.easing=!1,this.moving=!1}}),{play:t=>{this.mutationFx.play()}}}showFromWork(){const t=_A,i=t.win.h,s=t.rgl._[t.route.new.url].plane[0],e=t.rgl._[t.route.old.url].plane[1];let r=1290;t.fromBack&&(r=1),this.mutationFxPause(),e.ease.y=0,e.ease.pY=0,s.ease.y=i,s.ease.pY=.6;const h=R.G.class("w-progress")[0];return this.mutationFx=new R.M({d:r,e:[.64,0,.12,1],update:t=>{this.easing=!0,this.moving=!0,R.T(h,0,R.Lerp(0,-100,t.progE)),e.ease.y=R.Lerp(0,-(i+2),t.progE),e.ease.pY=R.Lerp(0,-.6,t.progE);const r=R.Ease4([.64,0,.12,1])(R.iLerp(0,.99,t.prog));s.ease.y=R.Lerp(i,0,r),s.ease.pY=R.Lerp(.6,0,r)},cb:t=>{e.lerp.h=0,e.ease.y=0,e.ease.pY=0,this.easing=!1,this.moving=!1}}),{play:t=>{this.mutationFx.play()}}}mutationFxPause(){R.Is.def(this.mutationFx)&&this.mutationFx.pause()}}class b{constructor(t){this.el=R.Select.el(t.el)[0],this.txt=this.el.innerHTML;const i=R.Cr("div");i.innerHTML=this.txt;const s=i.childNodes,e=s.length;this.arr=[];let r=0;for(let t=0;t<e;t++){const i=s[t];if(3===i.nodeType){const t=i.nodeValue.split(" "),s=t.length;for(let i=0;i<s;i++){const s=""===t[i]?" ":t[i];this.arr[r]={type:"txt",word:s},r++}}else if("BR"===i.tagName)this.arr[r]={type:"br"},r++;else if("A"===i.tagName){const t=i.outerHTML,s=i.textContent,e=t.split(s);this.arr[r]={type:"a",start:e[0],end:e[1],word:s.split(" ")},r++}}this.arrL=this.arr.length}resize(t){this.el.innerHTML=this.txt;const i=this.el.offsetWidth,s=R.Cr("div"),e=s.style;e.visibility="hidden",e.position="absolute",e.whiteSpace="nowrap";const r=window.getComputedStyle(this.el);e.fontFamily=this.gPV(r,"font-family"),e.fontSize=this.gPV(r,"font-size"),e.fontWeight=this.gPV(r,"font-weight"),e.letterSpacing=this.gPV(r,"letter-spacing"),document.body.prepend(s);let h="",o=[],n=0,a="",l="";for(let t=0;t<this.arrL;t++){const e=this.arr[t];if("txt"===e.type){const t=e.word,r=" "===t?"":" ";s.innerHTML=a+t,s.offsetWidth>=i?(o[n++]=l.trim(),a=t+r,l=t+r):(a=a+t+r,l=l+t+r)}else if("a"===e.type){const t=e.start,r=e.end,h=e.word,c=h.length,p=c-1;a=this.rLS(a),l=this.rLS(l);for(let e=0;e<c;e++){const c=h[e],d=e===p?"":" ";if(s.innerHTML=a+c,s.offsetWidth>=i)0===e?o[n++]=l.trim():(l=l.trim()+r,o[n++]=l),a=c+d,l=e===p?t+c+r+d:t+c+d;else{a=a+c+d;let i=c;0===e&&(i=t+i),e===p&&(i+=r),l=l+i+d}}}else"br"===e.type&&(o[n++]=l.trim(),a="",l="")}if(l!==o[n-1]){const t=l.trim();""!==t&&(o[n++]=t)}const c=t.tag.start,p=t.tag.end;for(let t=0;t<n;t++){h+=c+(""===o[t]?"&nbsp;":o[t])+p}s.parentNode.removeChild(s),this.el.innerHTML=h}rLS(t){return t.replace(/\s?$/,"")}gPV(t,i){return t.getPropertyValue(i)}}class S{init(){let t=R.G.class("page");t=t[t.length-1],this.h1=R.G.class("w-hero-txt-h1",t),this.h1L=this.h1.length,this.pgnLeft=R.G.class("w-hero-pgn-left",t)[0],this.pgnMiddle=R.G.class("w-hero-pgn-middle",t)[0],this.pgnRight=R.G.class("w-hero-pgn-right",t)[0],this.roleTitle=R.G.class("w-hero-txt-role-title",t)[0].children[0],this.roleP=new b({el:R.G.class("w-hero-txt-role-p",t)[0]}),this.team=R.G.class("w-hero-txt-team",t),this.teamL=this.team.length,this.scroll=R.G.class("w-hero-txt-scroll",t)[0].children[0],this.arrow=R.G.class("w-hero-txt-icon-arrow",t)[0],this.border=R.G.class("w-hero-txt-icon-border-path",t)[0],this.visible=!1,this.resizeA()}resizeA(){const t=this.visible?0:110;this.roleP.resize({tag:{start:'<span class="w-hero-txt-role-p-fx"><span style="transform: translate3d(0,'+t+'%,0);">',end:"</span></span>"}}),this.pFx=R.G.class("w-hero-txt-role-p-fx",this.roleP.el),this.pFxL=this.pFx.length}show(t){const i=_A,s=i.config.isLocal&&i.introducing,e=t.mutation;let r=t.delay,h=70,o=1500,n=1600;const a="o6";(e&&i.fromBack||s)&&(r=0,h=0,o=0,n=1);const l=new R.TL;for(let t=0;t<this.h1L;t++){const i=0===t?r:h;l.from({el:this.h1[t],p:{y:[110,0]},d:o,e:a,delay:i})}l.from({el:this.roleTitle,p:{y:[110,0]},d:o,e:a,delay:h});for(let t=0;t<this.pFxL;t++)l.from({el:this.pFx[t].children[0],p:{y:[110,0]},d:o,e:a,delay:h});for(let t=0;t<this.teamL;t++)l.from({el:this.team[t],p:{y:[110,0]},d:o,e:a,delay:h});l.from({el:this.scroll,p:{y:[110,0]},d:o,e:a}),l.from({el:this.arrow,p:{opacity:[0,1]},d:o,e:"o1"}),l.from({el:this.arrow,p:{y:[-14,0,"px"]},d:o,e:a});const c=new R.TL;c.from({el:this.pgnLeft,p:{x:[-110,0]},d:o,e:a,delay:r+2*h}),c.from({el:this.pgnMiddle,p:{scaleX:[0,1]},d:o,e:a,r:6}),c.from({el:this.pgnRight,p:{x:[110,0]},d:o,e:a});const p=new R.M({el:this.border,line:{start:0,end:100},d:n,e:"io5",delay:r});return{play:t=>{this.visible=!0,l.play(),c.play(),p.play()}}}}class k{init(){const t=R.G.class("w-footer-link-title")[0].children[0],i=R.G.class("w-footer-link-tagline")[0].children[0],s=R.G.class("w-footer-exp")[0].children[0];this.fx0=new R.M({el:s,p:{y:[0,-110]}}),this.fx1=new R.M({el:i,p:{y:[0,-110]}}),this.fx2=new R.M({el:t,p:{y:[0,-110]}})}hide(t){const i=_A,s=t.mutation;let e=t.delay,r=t.delay+20,h=t.delay+26,o=600,n="i3";return s&&i.fromBack&&(e=0,r=0,h=0,o=0),{play:t=>{this.fx0.play({d:o,e:n,delay:e}),this.fx1.play({d:o,e:n,delay:r}),this.fx2.play({d:o,e:n,delay:h})}}}}class M{init(){const t=R.G.class("w-back");this.back=t[t.length-1],this.fx=new g({descendant:1,el:this.back,prop:[["y",110,-110]]})}show(t){const i=_A,s=i.config.isLocal&&i.introducing,e=t.mutation;let r=t.delay,h=1500;(e&&i.fromBack||s)&&(r=0,h=0);const o=this.fx.motion({action:"show",d:h,e:"o6",delay:r,reverse:!1});return{play:t=>{R.PE.all(this.back),o.play()}}}hide(t){const i=_A,s=t.mutation;let e=t.delay,r=500;s&&i.fromBack&&(e=0,r=0);const h=this.fx.motion({action:"hide",d:r,e:"o2",delay:e,reverse:!1});return{play:t=>{R.PE.none(this.back),h.play()}}}}class T{init(){this.url=_A.route.new.url;let t=R.G.class("w-preview-w");this.preview=t[t.length-1];let i=R.G.class("w-preview-area");this.area=i[i.length-1];let s=R.G.class("w-s");this.section=s[s.length-1],this.resizeA()}resizeA(){const t=_A,i=t.win.h,s=t.win.w,e=parseInt(getComputedStyle(this.section).marginTop,10),r=this.preview.offsetHeight,h=this.section.offsetHeight;this.areaRight=s-(this.preview.getBoundingClientRect().left+this.preview.offsetWidth),this.prlx=Math.max(r+2*this.areaRight-i,0);const o=r/h;this.area.style.height=i*o+7+"px",this.previewMax=h-r,this.previewStart=i+e-this.areaRight,this.previewEnd=this.previewStart+this.previewMax+this.prlx,this.prlx>0?this.areaMax=h-(i-2*this.areaRight):this.areaMax=this.previewMax,this.areaMax*=o}loop(){const t=_A.e.s._[this.url].step;t<this.previewStart?(R.T(this.preview,0,-R.R(t),"px"),R.T(this.area,0,-R.R(t),"px")):t>=this.previewStart&&t<=this.previewEnd?(R.T(this.preview,0,-R.R(this.previewStart+R.Remap(this.previewStart,this.previewEnd,0,this.prlx,t)),"px"),R.T(this.area,0,-R.R(this.previewStart-R.Remap(this.previewStart,this.previewEnd,0,this.areaMax-this.prlx,t)),"px")):t>this.previewEnd&&(R.T(this.preview,0,-R.R(t-this.previewMax),"px"),R.T(this.area,0,-R.R(t-this.previewMax-this.areaMax),"px"))}}class F{constructor(){this.gl=new A,this.fxHero=new S,this.fxFooter=new k,this.fxBack=new M,this.preview=new T}initB(){this.notRequired=!_A.is.work,this.notRequired||this.gl.initB()}initA(){this.notRequired||(this.gl.initA(),this.fxHero.init(),this.fxFooter.init(),this.fxBack.init(),this.preview.init())}resizeA(){this.notRequired||(this.gl.resizeA(),this.preview.resizeA(),this.fxHero.resizeA())}loop(){this.notRequired&&!this.gl.moving||(this.gl.loop(),this.preview.loop())}}class z{init(){this.left=R.G.id("a-l"),this.leftPreview=R.G.id("a-lp"),this.leftSection=R.G.class("a-l-s"),this.leftSectionL=this.leftSection.length}show(t){const i=_A,s=i.config.isLocal&&i.introducing,e=t.mutation;let r=t.delay,h=1500;let o=200,n=50,a=500;(e&&i.fromBack||s)&&(r=0,h=0,o=0,n=0,a=0);const l=new R.TL;for(let t=0;t<this.leftSectionL;t++){const i=0===t?r+o:n;l.from({el:this.leftSection[t],p:{opacity:[0,.85]},d:h,e:"o1",delay:i}),l.from({el:this.leftSection[t],p:{y:[80,0,"px"]},d:h,e:"o6"})}const c=new R.TL;return c.from({el:this.leftPreview,p:{opacity:[0,.85]},d:h,e:"o1",delay:r+a}),{play:t=>{l.play(),c.play()}}}}class B{init(){this.url=_A.route.new.url,this.trigger=[],this.tl=[],this.isVisible=[],this.limit=[],this.first=!0,this.heroP=R.G.id("a-r-hero").children,this.heroPL=this.heroP.length,this.slineHeroP=[];for(let t=0;t<this.heroPL;t++)this.slineHeroP[t]=new b({el:this.heroP[t]});const t=R.G.id("a-r-experience");this.expH2=R.G.tag("h2",t)[0].children[0],this.expLi=R.G.tag("ul",t)[0].children,this.expLiL=this.expLi.length;const i=R.G.id("a-r-recognition");this.recoH2=R.G.tag("h2",i)[0].children[0],this.recoLi=R.G.tag("ul",i)[0].children,this.recoLiL=this.recoLi.length;const s=R.G.id("a-r-clients");this.clientsH2=R.G.tag("h2",s)[0].children[0],this.clientsLi=R.G.tag("ul",s)[0].children,this.clientsLiL=this.clientsLi.length;const e=R.G.id("a-r-contact");this.contactH2=R.G.tag("h2",e)[0].children[0],this.contactLi=R.G.tag("ul",e)[0].children,this.contactLiL=this.contactLi.length;const r=R.G.id("a-r-credits");this.creditsH2=R.G.tag("h2",r)[0].children[0],this.creditsLi=R.G.tag("ul",r)[0].children,this.creditsLiL=this.creditsLi.length,this.resize()}resize(){let t=0;const i=1500,s="o6",e=100;for(let r=0;r<this.heroPL;r++){this.trigger[t]=this.heroP[r];const h=this.limitSet(t),o=h.delay,n=h.fromBack?0:i,a=h.fromBack?0:e,l=this.isVisible[t]?0:110;this.slineHeroP[r].resize({tag:{start:'<span class="sfx-y"><span style="transform: translate3d(0,'+l+'%,0);">',end:"</span></span>"}});const c=R.G.class("sfx-y",this.slineHeroP[r].el),p=c.length;if(!this.isVisible[t]){this.tl[t]=new R.TL;for(let i=0;i<p;i++){const e=0===i?o:a;this.tl[t].from({el:c[i].children[0],p:{y:[110,0]},d:n,e:s,delay:e})}}t++}this.trigger[t]=this.expH2;const r=this.limitSet(t),h=r.delay,o=r.fromBack?0:i;this.isVisible[t]||(this.tl[t]=new R.TL,this.tl[t].from({el:this.expH2,p:{y:[110,0]},d:o,e:s,delay:h})),t++;for(let r=0;r<this.expLiL;r++){this.trigger[t]=this.expLi[r];const h=this.limitSet(t),o=h.delay,n=h.fromBack?0:i,a=h.fromBack?0:e,l=R.G.class("sfx-y",this.expLi[r]),c=l.length;if(!this.isVisible[t]){this.tl[t]=new R.TL;for(let i=0;i<c;i++){const e=0===i?o:a;this.tl[t].from({el:l[i].children[0],p:{y:[110,0]},d:n,e:s,delay:e})}}t++}this.trigger[t]=this.recoH2;const n=this.limitSet(t),a=n.delay,l=n.fromBack?0:i;this.isVisible[t]||(this.tl[t]=new R.TL,this.tl[t].from({el:this.recoH2,p:{y:[110,0]},d:l,e:s,delay:a})),t++;for(let r=0;r<this.recoLiL;r++){this.trigger[t]=this.recoLi[r];const h=this.limitSet(t),o=h.delay,n=h.fromBack?0:i,a=h.fromBack?0:e,l=R.G.class("sfx-y",this.recoLi[r]),c=l.length;if(!this.isVisible[t]){this.tl[t]=new R.TL;for(let i=0;i<c;i++){const e=0===i?o:a;this.tl[t].from({el:l[i].children[0],p:{y:[110,0]},d:n,e:s,delay:e})}}t++}this.trigger[t]=this.clientsH2;const c=this.limitSet(t),p=c.delay,d=c.fromBack?0:i;this.isVisible[t]||(this.tl[t]=new R.TL,this.tl[t].from({el:this.clientsH2,p:{y:[110,0]},d:d,e:s,delay:p})),t++;for(let r=0;r<this.clientsLiL;r++){this.trigger[t]=this.clientsLi[r];const h=this.limitSet(t),o=h.delay,n=h.fromBack?0:i,a=h.fromBack?0:e,l=R.G.class("sfx-y",this.clientsLi[r]),c=l.length;if(!this.isVisible[t]){this.tl[t]=new R.TL;for(let i=0;i<c;i++){const e=0===i?o:a;this.tl[t].from({el:l[i].children[0],p:{y:[110,0]},d:n,e:s,delay:e})}}t++}this.trigger[t]=this.contactH2;const g=this.limitSet(t),u=g.delay,m=g.fromBack?0:i;this.isVisible[t]||(this.tl[t]=new R.TL,this.tl[t].from({el:this.contactH2,p:{y:[110,0]},d:m,e:s,delay:u})),t++;for(let r=0;r<this.contactLiL;r++){this.trigger[t]=this.contactLi[r];const h=this.limitSet(t),o=h.delay,n=h.fromBack?0:i,a=h.fromBack?0:e,l=R.G.class("sfx-y",this.contactLi[r]),c=l.length;if(!this.isVisible[t]){this.tl[t]=new R.TL;for(let i=0;i<c;i++){const e=0===i?o:a;this.tl[t].from({el:l[i].children[0],p:{y:[110,0]},d:n,e:s,delay:e})}}t++}this.trigger[t]=this.creditsH2;const f=this.limitSet(t),x=f.delay,w=f.fromBack?0:i;this.isVisible[t]||(this.tl[t]=new R.TL,this.tl[t].from({el:this.creditsH2,p:{y:[110,0]},d:w,e:s,delay:x})),t++;for(let r=0;r<this.creditsLiL;r++){this.trigger[t]=this.creditsLi[r];const h=this.limitSet(t),o=h.delay,n=h.fromBack?0:i,a=h.fromBack?0:e,l=R.G.class("sfx-y",this.creditsLi[r]),c=l.length;if(!this.isVisible[t]){this.tl[t]=new R.TL;for(let i=0;i<c;i++){const e=0===i?o:a;this.tl[t].from({el:l[i].children[0],p:{y:[110,0]},d:n,e:s,delay:e})}}t++}if(this.triggerL=this.trigger.length,this.first){for(let t=0;t<this.triggerL;t++)this.isVisible[t]=!1;this.first=!1}}loop(){const t=_A.e.s._[this.url].curr;for(let i=0;i<this.triggerL;i++)t>this.limit[i]&&!this.isVisible[i]&&(this.isVisible[i]=!0,this.tl[i].play())}limitSet(t){const i=_A,s=i.config.isLocal&&i.introducing,e=i.fromBack,r=this.trigger[t].getBoundingClientRect().top+i.e.s._[this.url].curr,h=r<i.win.h;this.limit[t]=h?-1:r-i.sFxS;let o=0;return!h||e||s||(o=700+200*t),{fromBack:h&&e,delay:o}}}class G{init(){this.url=_A.route.new.url,this.leftW=R.G.id("a-l-w"),this.left=R.G.id("a-l"),this.preview=R.G.id("a-lp"),this.resize()}resize(){const t=_A,i=t.win.h;R.T(this.leftW,0,0,"px"),R.T(this.preview,0,0,"px");const s=this.left.offsetHeight,e=this.left.getBoundingClientRect().top;this.leftArea=e+s>i?t.win.h-e:e+s-e,this.max=s-this.leftArea,this.maxP=this.leftArea-this.preview.offsetHeight}loop(){const t=_A,i=t.e.s._[this.url].curr,s=t.e.s.max,e=R.Remap(0,s,0,this.max,i),r=R.Remap(0,s,0,this.maxP,i);R.T(this.leftW,0,-R.R(e),"px"),R.T(this.preview,0,R.R(r),"px")}}class E{constructor(){this.fx=new z,this.sFx=new B,this.preview=new G}init(){const t=_A;this.notRequired=!t.is.about,this.notRequired||(this.fx.init(),this.sFx.init(),this.preview.init())}resize(){this.notRequired||(this.sFx.resize(),this.preview.resize())}loop(){this.notRequired||(this.sFx.loop(),this.preview.loop())}}class H{constructor(t){const i=_A,s=i.e,e=i.config.isLocal,r=t.intro,h=i.fromBack,o=i.is.home,n=i.is.work,a=i.is.about,l=i.was.home,c=i.was.work,p=[];if(r){if(o){const t=3200;let r=t+800;e&&(r=0),p.push(s.load.fx({delay:0})),p.push(s.home.fxTitle.show({index:i.index,delay:t})),p.push(s.home.fxCross.side({a:"show",delay:t+300})),p.push(s.home.fxPgn.show({mutation:!1,delay:t+600})),p.push(s.nav.fx.show({mutation:!1,delay:t+600})),new R.Delay((t=>{s.on(),R.PE.none(R.G.id("load")),i.mutating=!1,i.introducing=!1}),r).run()}else if(n){const t=3200;let r=t+800;e&&(r=0),p.push(s.load.fx({delay:0})),p.push(s.work.fxHero.show({delay:t+200})),p.push(s.work.fxBack.show({delay:t+600})),new R.Delay((t=>{s.on(),i.mutating=!1,i.introducing=!1,R.PE.none(R.G.id("load"))}),r).run()}else if(a){const t=1e3;let r=t+200;e&&(r=0),p.push(s.about.fx.show({mutation:!1,delay:t})),p.push(s.nav.fx.show({mutation:!1,delay:t})),new R.Delay((t=>{s.on(),i.mutating=!1,i.introducing=!1,R.PE.none(R.G.id("load"))}),r).run()}}else if(o){let t=200,e=300;h&&(t=1,e=1),c&&(p.push(s.work.gl.hide()),p.push(s.nav.fx.show({mutation:!0,delay:0}))),p.push(s.home.gl.show()),"out"===i.mode?p.push(s.home.fxCross.middle({mutation:!0,a:"show",delay:t})):(p.push(s.home.fxTitle.show({mutation:!0,index:i.index,delay:0})),p.push(s.home.fxCross.side({mutation:!0,a:"show",delay:t}))),p.push(s.home.fxPgn.show({mutation:!0,delay:0})),new R.Delay((t=>{s.on(),i.mutating=!1}),e).run()}else if(n){let t=800,e=t+300,r=1300;h&&(t=1,e=1,r=1),l?(p.push(s.nav.fx.hide({mutation:!0,delay:0})),p.push(s.home.fxCross.side({mutation:!0,a:"hide",delay:0})),p.push(s.home.fxTitle.hide({mutation:!0,index:i.index,delay:0})),p.push(s.home.over.hide({mutation:!0,index:i.index})),p.push(s.home.fxPgn.hide({mutation:!0,delay:0})),p.push(s.home.gl.hide()),p.push(s.work.gl.showFromHome())):c&&(p.push(s.work.fxFooter.hide({mutation:!0,delay:0})),p.push(s.work.gl.showFromWork())),p.push(s.work.fxHero.show({mutation:!0,delay:t})),p.push(s.work.fxBack.show({mutation:!0,delay:e})),new R.Delay((t=>{i.page.removeOld(),s.on(),i.mutating=!1}),r).run()}else if(l&&a){let t=800,e=1300;h&&(t=1,e=1),"out"===i.mode?p.push(s.home.fxCross.middle({mutation:!0,a:"hide",delay:0})):(p.push(s.home.fxCross.side({mutation:!0,a:"hide",delay:0})),p.push(s.home.fxTitle.hide({mutation:!0,index:i.index,delay:0}))),p.push(s.home.fxPgn.hide({mutation:!0,delay:0})),p.push(s.home.gl.hide()),p.push(s.about.fx.show({mutation:!0,delay:t})),new R.Delay((t=>{i.page.removeOld(),s.on(),i.mutating=!1}),e).run()}const d=p.length;return{play:t=>{for(let t=0;t<d;t++)p[t].play()}}}}class P{constructor(){this.no=R.G.id("load-no").children[0],this.bg=R.G.id("load-bg")}run(){let t=1e3;_A.config.isLocal&&(t=0);const i=new H({intro:!0}),s=new R.TL;s.from({el:this.no,p:{y:[0,-110]},d:t,e:"i4"}),i.play(),s.play(),R.O(this.bg,0)}}function C(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function I(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function D(t,i){return function(t,i,s){let e=s[0],r=s[1],h=s[2];if(i===t)t[12]=i[0]*e+i[4]*r+i[8]*h+i[12],t[13]=i[1]*e+i[5]*r+i[9]*h+i[13],t[14]=i[2]*e+i[6]*r+i[10]*h+i[14],t[15]=i[3]*e+i[7]*r+i[11]*h+i[15];else{const s=i[0],o=i[1],n=i[2],a=i[3],l=i[4],c=i[5],p=i[6],d=i[7],g=i[8],u=i[9],m=i[10],f=i[11];t[0]=s,t[1]=o,t[2]=n,t[3]=a,t[4]=l,t[5]=c,t[6]=p,t[7]=d,t[8]=g,t[9]=u,t[10]=m,t[11]=f,t[12]=s*e+l*r+g*h+i[12],t[13]=o*e+c*r+u*h+i[13],t[14]=n*e+p*r+m*h+i[14],t[15]=a*e+d*r+f*h+i[15]}return t}(t,t,i)}function O(t,i){return function(t,i,s){let e=s[0],r=s[1],h=s[2];return t[0]=i[0]*e,t[1]=i[1]*e,t[2]=i[2]*e,t[3]=i[3]*e,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=i[7]*r,t[8]=i[8]*h,t[9]=i[9]*h,t[10]=i[10]*h,t[11]=i[11]*h,t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t}(t,t,i)}class W{constructor(){this.near=1,this.far=2e3,this.fov=45,this.aspect=1,this.projectionMatrix=C(),this.matrixCamera=C()}resize(t){t&&(this.aspect=t.aspect);const i=Math.PI,s=this.fov*(i/180);this.projectionMatrix=function(t,i,s,e,r){const h=1/Math.tan(.5*i),o=1/(e-r);return t[0]=h/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+e)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*e*o,t[15]=0,t}(this.projectionMatrix,s,this.aspect,this.near,this.far);const e=_A.winSemi;this.posOrigin={x:e.w,y:-e.h,z:e.h/Math.tan(i*this.fov/360)},_A.rgl.uProjectionMatrix(this.projectionMatrix)}render(t){return this.matrixCamera=I(this.matrixCamera),this.matrixCamera=D(this.matrixCamera,[this.posOrigin.x+t.x,this.posOrigin.y+t.y,this.posOrigin.z+t.z]),function(t,i){const s=i[0],e=i[1],r=i[2],h=i[3],o=i[4],n=i[5],a=i[6],l=i[7],c=i[8],p=i[9],d=i[10],g=i[11],u=i[12],m=i[13],f=i[14],x=i[15],w=d*x,R=f*g,y=a*x,L=f*l,_=a*g,v=d*l,A=r*x,b=f*h,S=r*g,k=d*h,M=r*l,T=a*h,F=c*m,z=u*p,B=o*m,G=u*n,E=o*p,H=c*n,P=s*m,C=u*e,I=s*p,D=c*e,O=s*n,W=o*e,q=w*n+L*p+_*m-(R*n+y*p+v*m),X=R*e+A*p+k*m-(w*e+b*p+S*m),N=y*e+b*n+M*m-(L*e+A*n+T*m),V=v*e+S*n+T*p-(_*e+k*n+M*p),U=1/(s*q+o*X+c*N+u*V);return t[0]=U*q,t[1]=U*X,t[2]=U*N,t[3]=U*V,t[4]=U*(R*o+y*c+v*u-(w*o+L*c+_*u)),t[5]=U*(w*s+b*c+S*u-(R*s+A*c+k*u)),t[6]=U*(L*s+A*o+T*u-(y*s+b*o+M*u)),t[7]=U*(_*s+k*o+M*c-(v*s+S*o+T*c)),t[8]=U*(F*l+G*g+E*x-(z*l+B*g+H*x)),t[9]=U*(z*h+P*g+D*x-(F*h+C*g+I*x)),t[10]=U*(B*h+C*l+O*x-(G*h+P*l+W*x)),t[11]=U*(H*h+I*l+W*g-(E*h+D*l+O*g)),t[12]=U*(B*d+H*f+z*a-(E*f+F*a+G*d)),t[13]=U*(I*f+F*r+C*d-(P*d+D*f+z*r)),t[14]=U*(P*a+W*f+G*r-(O*f+B*r+C*a)),t[15]=U*(O*d+E*r+D*a-(I*a+W*d+H*r)),t}(this.matrixCamera,this.matrixCamera)}}class q{constructor(t){this.gl=t,this.tex={}}run(t){const i=_A;this.cb=t;const s=i.route.new.url;this.dom=R.G.id("load-no").children[0],this.no=0,this.prevNo=0,R.BM(this,["loop"]),this.raf=new R.RafR(this.loop);const e=i.data,r=Object.keys(e),h=r.length;this.texL=0;for(let t=0;t<h;t++){const i=r[t],h=e[i];(h.preload||s===i)&&this.imgSet({media:h,url:i,gl:!0,ext:!1})}this.raf.run()}imgSet(t){const i=t.ext?"":_A.img.jpg,s=t.url,e=t.gl,r=t.media,h=r.tex,o=r.texL;e&&(this.tex[s]=[]);for(let t=0;t<o;t++)this.imgSetOne({src:h[t]+i,index:t,url:s,gl:e}),this.texL++}imgSetOne(t){const i=t.src,s=t.url,e=t.gl,r=t.index,h=new Image;h.onload=t=>{if(e){const t=this.texInit(h);this.tex[s][r]={attrib:t,element:h,type:"img"}}this.no++},h.src=i}texInit(t){const i=this.gl,s=i.createTexture();i.bindTexture(i.TEXTURE_2D,s),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t);const e=[["WRAP_S","CLAMP_TO_EDGE"],["WRAP_T","CLAMP_TO_EDGE"],["MIN_FILTER","LINEAR"],["MAG_FILTER","LINEAR"]];for(let t=0;t<4;t++)i.texParameteri(i.TEXTURE_2D,i["TEXTURE_"+e[t][0]],i[e[t][1]]);return s}loop(){this.no!==this.prevNo&&(this.prevNo=this.no,this.dom.textContent=Math.round(100/this.texL*this.no)+"%"),this.no===this.texL&&(this.raf.stop(),this.cb())}}class X{constructor(t){this.gl=_A.rgl.gl,this.page=t.page,this.state={depthTest:null,cullFace:null},this.setBlendFunc();const i=this.gl.getExtension("OES_vertex_array_object"),s=["create","bind"];this.vertexArray={};for(let t=0;t<2;t++){const e=s[t];this.vertexArray[e]=i[e+"VertexArrayOES"].bind(i)}this.programCurrId=null,this.viewport={width:null,height:null},this.camera=new W,this.texture=new q(this.gl),this.texture.run(t.cb)}setFaceCulling(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl[t]))}setBlendFunc(){this.gl.enable(this.gl.BLEND),this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}resize(){const t=_A,i=t.win,s=i.w>600?1.5:3;this.width=i.w,this.height=i.h,this.gl.canvas.width=this.width*s,this.gl.canvas.height=this.height*s,this.camera.resize({aspect:this.gl.canvas.width/this.gl.canvas.height}),t.rgl.clear();const e=this.width*s,r=this.height*s;this.resizing=!0,this.viewport.width===e&&this.viewport.height===r||(this.viewport.width=e,this.viewport.height=r,this.gl.viewport(0,0,e,r),this.viewMatrix=this.camera.render({x:0,y:0,z:0}))}render(t){const i=_A,s=i.route,e=s.old.page,r=s.new.page,h=this.page.includes(r),o=this.page.includes(e);let n=this.resizing||i.e.s.rqd;this.resizing&&(this.resizing=!1),n||(n=i.e.load.moving),n||o&&i.e[e].gl.moving&&(n=!0),n||h&&i.e[r].gl.moving&&(n=!0);const a=[];o?(h&&a.push(s.new.url),(i.mutating||i.e[e].gl.moving)&&a.push(s.old.url)):(i.e.load.moving&&a.push("load"),h&&a.push(s.new.url));const l=a.length;for(let i=0;i<l;i++){"/"===a[i]?(t.large.draw(n),t.small.draw(n)):t[a[i]].draw(n)}}}let N=1;class V{constructor(t){const i=_A.rgl;this.gl=i.gl,this.renderer=i.renderer,this.uniform=t.uniform||{},this.id=N++,this.program=this.crP();const s=this.uniform;s.g={type:"Matrix4fv"},s.h={type:"Matrix4fv"},this.getL(s,"Uniform"),i.uProjectionMatrix=t=>{s.g.value=t}}crP(){const t=this.gl,i=this.crS("precision highp float;attribute vec2 c;attribute vec2 f;varying vec2 a;uniform vec2 d;uniform vec2 e;uniform mat4 g;uniform mat4 h;void main(){gl_Position=g*h*vec4(c.x,c.y,0,1);a=(f-.5)/d+.5+e;}",t.VERTEX_SHADER),s=this.crS("precision highp float;varying vec2 a;uniform sampler2D b;void main(){gl_FragColor=texture2D(b,a);}",t.FRAGMENT_SHADER),e=t.createProgram();return t.attachShader(e,i),t.attachShader(e,s),t.linkProgram(e),t.deleteShader(i),t.deleteShader(s),e}crS(t,i){const s=this.gl.createShader(i);return this.gl.shaderSource(s,t),this.gl.compileShader(s),s}getL(t,i){for(const s in t)R.Has(t,s)&&(t[s].location=this.gl["get"+i+"Location"](this.program,s))}setUniform(){for(const t in this.uniform)if(R.Has(this.uniform,t)){const i=this.uniform[t],s=i.location,e="uniform"+i.type;"Matrix"===i.type.substring(0,6)?this.gl[e](s,!1,i.value):this.gl[e](s,i.value)}}run(){this.renderer.programCurrId===this.id||(this.gl.useProgram(this.program),this.renderer.programCurrId=this.id)}}class U{constructor(t){const i=_A.rgl;this.gl=i.gl,this.renderer=i.renderer,this.program=t.program,this.mode=t.mode,this.face=t.face,this.attrib=t.attrib,this.renderer.vertexArray.bind(null),this.program.getL(this.attrib,"Attrib"),this.modelMatrix=C()}setVAO(){const t=this.renderer;this.vao=t.vertexArray.create(),t.vertexArray.bind(this.vao),this.setAttrib(),t.vertexArray.bind(null)}setAttrib(){const t=this.gl;for(const i in this.attrib)if(R.Has(this.attrib,i)){const s=this.attrib[i],e="index"===i,r=s.data.constructor;r===Float32Array?s.type=t.FLOAT:r===Uint16Array?s.type=t.UNSIGNED_SHORT:s.type=t.UNSIGNED_INT,s.count=s.data.length/s.size,s.target=e?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER,s.normalize=!1,t.bindBuffer(s.target,t.createBuffer()),t.bufferData(s.target,s.data,t.STATIC_DRAW),e||(t.enableVertexAttribArray(s.location),t.vertexAttribPointer(s.location,s.size,s.type,s.normalize,0,0))}}draw(t){const i=this.gl,s=this.renderer;s.setFaceCulling(this.face),this.program.run(),this.modelMatrix=I(this.modelMatrix);const e=s.viewMatrix;let r=function(t,i,s){const e=s[0],r=s[1],h=s[2],o=s[3],n=s[4],a=s[5],l=s[6],c=s[7],p=s[8],d=s[9],g=s[10],u=s[11],m=s[12],f=s[13],x=s[14],w=s[15],R=i[0],y=i[1],L=i[2],_=i[3],v=i[4],A=i[5],b=i[6],S=i[7],k=i[8],M=i[9],T=i[10],F=i[11],z=i[12],B=i[13],G=i[14],E=i[15];return t[0]=e*R+r*v+h*k+o*z,t[1]=e*y+r*A+h*M+o*B,t[2]=e*L+r*b+h*T+o*G,t[3]=e*_+r*S+h*F+o*E,t[4]=n*R+a*v+l*k+c*z,t[5]=n*y+a*A+l*M+c*B,t[6]=n*L+a*b+l*T+c*G,t[7]=n*_+a*S+l*F+c*E,t[8]=p*R+d*v+g*k+u*z,t[9]=p*y+d*A+g*M+u*B,t[10]=p*L+d*b+g*T+u*G,t[11]=p*_+d*S+g*F+u*E,t[12]=m*R+f*v+x*k+w*z,t[13]=m*y+f*A+x*M+w*B,t[14]=m*L+f*b+x*T+w*G,t[15]=m*_+f*S+x*F+w*E,t}(h=this.modelMatrix,h,e);var h;const o=t.lerp,n=t.ease,a=t.intro,l=o.x+a.x,c=o.y+n.y+a.y,p=o.w+a.w,d=o.h+a.h,g=o.scale+a.scale+n.scale;r=D(r,[l,-c,0]),r=O(r,[p,d,1]);const u=this.program.uniform,m=p/d;let f=1,x=t.media.ratio.wh/m;x<1&&(f=1/x,x=1),u.d.value=[x*g,f*g],u.e.value=[o.pX,(o.pY+n.pY)/f],u.h.value=r,this.program.setUniform(),i.bindTexture(i.TEXTURE_2D,this.attrib.f.tex),s.vertexArray.bind(this.vao);const w=this.attrib.index;i.drawElements(i[this.mode],w.count,w.type,0)}}function Y(t){const i=t.p,s={},e=i.pts.h,r=i.pts.v,h=e-1,o=r-1,n=1/h,a=1/o,l=[];let c=0;for(let t=0;t<r;t++){const i=t*a-1;for(let t=0;t<e;t++)l[c++]=t*n,l[c++]=i}s.pos=l;const p=[];let d=0;const g=r-1,u=r-2,m=e-1;for(let t=0;t<g;t++){const i=e*t,s=i+e;for(let r=0;r<e;r++){const h=s+r;p[d++]=i+r,p[d++]=h,r===m&&t<u&&(p[d++]=h,p[d++]=e*(t+1))}}s.index=p;const f=[];let x=0;for(let t=0;t<r;t++){const i=1-t/o;for(let t=0;t<e;t++)f[x++]=t/h,f[x++]=i}return s.texture=f,s}class j{constructor(t){const i=t.p,s=t.url,e=_A.rgl.renderer.texture.tex[s],r=e.length;this.planeL=r,R.Is.def(t.isHomeLarge)&&(this.planeL=this.planeL*this.planeL);const h={h:2,v:2};this.lerp={prop:["x","y","w","h","scale","opacity","pY"],r6:["scale","opacity","pY"]},this.lerp.propL=this.lerp.prop.length;const o={x:0,y:0,w:0,h:0,opacity:1,scale:1,pY:0,pX:0},n={y:0,pY:0,scale:0},a={x:0,y:0,w:0,h:0,scale:0};R.BM(this,["unequal"]),this.plane=[];for(let t=0;t<this.planeL;t++){const s=e[t%r],l=s.element,c=l.width,p=l.height,d={pts:h,zIndex:0,lerp:{...o},ease:{...n},intro:{...a},tex:s,media:{obj:l,dimension:{width:c,height:p},ratio:{wh:c/p,hw:p/c}},out:!1,geo:new U({program:i,mode:"TRIANGLE_STRIP",face:"FRONT",attrib:{c:{size:2},index:{size:1},f:{size:2,tex:s.attrib}}})},g=Y({p:d,tex:!0}),u=d.geo.attrib;u.c.data=new Float32Array(g.pos),u.index.data=new Uint16Array(g.index),u.f.data=new Float32Array(g.texture),d.geo.setVAO(),this.plane[t]=d}}draw(t){const i=_A,s=i.win.w,e=i.win.h;for(let r=0;r<2;r++)for(let h=0;h<this.planeL;h++){const o=this.plane[h];if(o.zIndex===r){const r=o.lerp,h=o.ease,n=o.intro,a=r.x+n.x,l=r.y+h.y+n.y,c=r.w+n.w,p=r.h+n.h,d=a<s&&a+c>0&&l<e&&l+p>0,g=r.opacity>0&&p>0&&c>0;d&&g&&(t||i.mutating)?(o.out&&(o.out=!1),o.geo.draw(o)):o.out||(o.out=!0,o.geo.draw(o))}}}unequal(t){const i=t.prop,s=this.lerp.r6.includes(i)?6:2;return 0!==R.R(Math.abs(t.a[i]-t.b[i]),s)}}class K{constructor(){const t=R.G.id("gl");this.gl=t.getContext("webgl",{antialias:!0,alpha:!0}),this._={},R.BM(this,["resize","loop"]),this.raf=new R.RafR(this.loop)}load(t){this.renderer=new X({page:["home","work"],cb:t}),this.program=new V({uniform:{d:{type:"2fv",value:[1,1]},e:{type:"2fv",value:[0,0]}}})}intro(){const t=_A.data,i=Object.keys(t),s=i.length;this._.load=new j({p:this.program,url:"load"}),this._.large=new j({p:this.program,url:"/",isHomeLarge:!0}),this._.small=new j({p:this.program,url:"/"});for(let t=0;t<s;t++){const s=i[t];"/"!==s&&"load"!==s&&(this._[s]=new j({p:this.program,url:s}))}}run(){new R.ROR(this.resize).on(),this.resize(),this.raf.run()}resize(){this.renderer.resize()}loop(){this.renderer.render(this._)}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}}class Z{constructor(){this.sail=R.G.id("sail"),this.sailFx=new R.M({el:this.sail,p:{opacity:[0,1]}})}fadeOut(t){const i=_A.fromBack?0:400;this.sailFx.play({d:i,e:"linear",cb:t.cb})}fadeIn(){const t=_A.fromBack?0:1e3;new H({intro:!1}).play(),this.sailFx.play({reverse:!0,d:t,e:"o3",cb:!1})}tr(){new H({intro:!1}).play()}}new class{constructor(t){const e=_A;e.is[404]||(e.mutating=!0,e.page={},e.fromBack=!1,this.transitionM=t.transition.mutation,this.device=t.device,R.BM(this,["eD"]),new i(this.device),"m"===this.device&&new s,e.e=new t.engine,this.onPopstate(),R.L(document.body,"a","click",this.eD),new t.transition.intro((t=>{this.intro(t)})))}onPopstate(){const t=document,i="complete";let s=t.readyState!==i;onload=t=>{setTimeout((t=>{s=!1}),0)},onpopstate=e=>{s&&t.readyState===i&&(R.PD(e),e.stopImmediatePropagation());const r=_A;R.Is.und(r.config.routes)||(r.mutating?this.hPS():(r.mutating=!0,this.out(location.pathname,"back")))}}eD(t){const i=_A;let s=t.target,e=!1,r=!1;for(;s;){const t=s.tagName;if("A"===t){e=!0;break}if(("INPUT"===t||"BUTTON"===t)&&"submit"===s.type){r=!0;break}s=s.parentNode}if(e){const e=s.href,r=e.substring(0,3);if(s.hasAttribute("target")||"mai"===r||"tel"===r)return;if(R.PD(t),!i.mutating){const t=e.replace(/^.*\/\/[^/]+/,"");t!==i.route.new.url?(i.mutating=!0,this.out(t,s)):"nav-logo"===s.id&&(location.href="/")}}else r&&R.PD(t)}intro(i){const s=_A;R.Fetch({url:s.route.new.url+"?fetch=intro&device="+this.device+"&webp="+s.webp,type:"html",success:e=>{const r=JSON.parse(e);s.config.routes=r.routes,s.data=r.data,this.cache=new t(r.cache),this.add(document.body,"afterbegin",r.body),this.main=R.G.id("main"),this.transitionM=new this.transitionM,i()}})}out(t,i){!function(t){const i=_A,s=i.config.routes[t].page,e=i.route.new,r=i.route.old;i.route.old=e,i.route.new={url:t,page:s},i.is[e.page]=!1,i.is[s]=!0,r.page&&(i.was[r.page]=!1),i.was[e.page]=!0}(t);const s=_A;s.target=i,s.fromBack="back"===i,s.page.update=t=>{const i=this.cache.get();this.in({data:i})},this.transitionM.out()}in(t){const i=_A;document.title=t.data.title,"back"!==i.target&&this.hPS(),i.page.insertNew=i=>{this.add(this.main,"beforeend",t.data.html)},i.page.removeOld=t=>{const i=this.main.children[0];i.parentNode.removeChild(i)},this.transitionM.in()}add(t,i,s){t.insertAdjacentHTML(i,s)}hPS(){const t=_A.route.new.url;history.pushState({page:t},"",t)}}({device:"d",engine:class{constructor(){const t=_A;t.lerpP=.083,t.index=0,t.mode="in",R.BM(this,["resize","loop"]),this.raf=new R.RafR(this.loop),this.s=new o,this.lz=new a,this.load=new l,this.nav=new m,this.home=new v,this.work=new F,this.about=new E}intro(){this.s.intro(),this.nav.intro()}init(){const t=_A;t.is.work&&(t.index=t.config.routes[t.route.new.url].index),this.home.initB(),this.work.initB();const i={isX:t.is.home};this.s.init(i),this.sIntersect=new n,this.lz.initA(),this.home.initA(),this.work.initA(),this.about.init()}resize(){this.home.resizeB(),this.s.resize(),this.sIntersect.resize(),this.home.resizeA(),this.work.resizeA(),this.about.resize(),this.load.resizeA(),this.lz.resizeA()}run(){new R.ROR(this.resize).on(),this.raf.run()}on(){this.home.on(),this.s.on()}loop(){this.s.loop(),this.lz.loop(),this.work.loop(),this.home.loop(),this.about.loop(),this.s.rqd&&this.sIntersect.run()}off(){this.s.off(),this.lz.off(),this.home.off()}},transition:{intro:class{constructor(t){const i=_A;i.introducing=!0,R.T(R.G.id("load-no").children[0],0,0),this.introFx=new P,t((t=>{i.rgl=new K,i.rgl.load((t=>{this.cb()}))}))}cb(){const t=_A;t.rgl.intro(),t.e.intro(),t.e.init(),t.e.load.intro(),t.rgl.run(),t.e.run(),this.introFx.run()}},mutation:class{constructor(){this.mutationFx=new Z}out(){const t=_A,i=t.is,s=t.was;if(this.hToW=s.home&&i.work,this.wToW=s.work&&i.work,this.hToA=s.home&&i.about,t.e.off(),(i.home||i.about)&&t.e.nav.active.up(),this.hToW||this.wToW||this.hToA)return this.wToW&&t.e.work.fxBack.hide({mutation:!0,delay:0}).play(),void t.page.update();s.work&&t.e.work.fxBack.hide({mutation:!0,delay:0}).play(),this.mutationFx.fadeOut({cb:i=>{t.page.update()}})}in(){const t=_A;if(this.hToW||this.wToW||this.hToA)return t.page.insertNew(),t.e.init(),void this.mutationFx.tr();t.page.removeOld(),t.page.insertNew(),t.e.init(),this.mutationFx.fadeIn()}}}})}();
